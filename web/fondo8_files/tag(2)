BrightTag.site('Qpejd48',function(s){
s.dbe('cj event id', '(function(){\r\n\ttry {\r\n\t\tif (bt_parameter(\x27cjevent\x27).trim().length \x3e 0) {\r\n\t\t\tvar currentDate \x3d new Date();\r\n\r\n\t\t\t// Add 7 Days to the current date\r\n\t\t\tcurrentDate.setDate(currentDate.getDate() + 7);\r\n\r\n\t\t\tvar data \x3d {\r\n\t\t\t\tp: bt_parameter(\x27cjevent\x27),\r\n\t\t\t\t// get the timestamp in seconds since epoch\r\n\t\t\t\tts: currentDate.getTime()\r\n\t\t\t};\r\n\r\n\t\t\t// set the stringified json data into the cjevent store attribute \r\n\t\t\tlocalStorage.setItem(\x22cjevent\x22, JSON.stringify(data));\r\n\t\t}\r\n\t} catch(e){}\r\n})();',{pageId:6988});
s.dbe('currency code', '(function() {\r\n\ttry {\r\n\t\tif (typeof uPref.cur \x3d\x3d \x22string\x22) {\r\n\t\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\t\tBTanalytics.currency \x3d uPref.cur;\r\n\t\t\t}\r\n\t\t\treturn uPref.cur;\r\n\t\t} else {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t} catch(e) {\r\n\r\n\t\tvar fromObject\x3d\x27\x27;\r\n\t\tvar fromURL\x3d\x27\x27;\r\n\t\tvar fromCookie\x3d\x27\x27;\r\n\t\tvar storeID \x3d \x27\x27\r\n\r\n\t\ttry {\r\n\t\t\tfromObject \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId;\r\n\t\t\tif (fromObject !\x3d\x27\x27){ storeID \x3d fromObject; }\r\n\t\t}catch(e){ //Do nothing;\r\n\t\t}\r\n\r\n\t\tif (storeID \x3d\x3d \x27\x27 || typeof storeID \x3d\x3d \x22undefined\x22){\r\n\t\t\ttry {\r\n\t\t\t\tfromURL \x3d bt_parameter(\x27storeId\x27);\r\n\t\t\t\tif (fromURL !\x3d\x27\x27){ storeID \x3d fromURL; }\r\n\t\t\t}catch(e){ //Do nothing;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (storeID \x3d\x3d \x27\x27 || typeof storeID \x3d\x3d \x22undefined\x22){\r\n\t\t\ttry {\r\n\t\t\t\tfromCookie \x3d $.cookie(\x27myStore\x27);\r\n\t\t\t\tif (fromCookie !\x3d null){ storeID \x3d fromCookie; }\r\n\t\t\t}catch(e){ //Do nothing;\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t\tswitch (storeID.toString()) {\r\n\t\t\tcase \x2710051\x27: case \x2710101\x27: case \x2710251\x27: case \x2713607\x27: case \x2711203\x27: case \x2711204\x27: case \x2711205\x27: case \x2714621\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27USD\x27;\r\n\t\t\t\tbreak;       \r\n\t\t\tcase \x2711306\x27: case \x2711307\x27: case \x2711308\x27: \r\n\t\t\t\tcurrencyCode \x3d \x27CAD\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2719658\x27: case \x2719161\x27: case \x2719659\x27: case \x2716609\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27GBP\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2719159\x27: case \x2719160\x27: case \x2719158\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27EUR\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2714108\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27JPY\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2720658\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27SGD\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2715108\x27: case \x2710901\x27: case \x2717608\x27: case \x2710851\x27: case \x2716607\x27: case \x2710201\x27: case \x2715108\x27: case \x2710901\x27: case \x2717608\x27: case \x2710851\x27: case \x2716607\x27: case \x2710201\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27HKD\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :                \r\n\t\t\t\tcurrencyCode \x3d \x27none\x27;\r\n\t\t}\r\n\r\n\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\tBTanalytics.currency \x3d currencyCode;\r\n\t\t}\r\n\t\treturn currencyCode;\r\n\t}\r\n})();',{pageId:6988});
s.dbe('sitecatalyst page path', '(function () {\r\n\ttry {\r\n\tvar bodyid \x3d $(\x27body\x27).attr(\x27id\x27) || \x22\x22;\r\n\tvar bodyclass \x3d $(\x27body\x27).attr(\x27class\x27) || \x22\x22;\r\n\tvar pg \x3d \x22\x22;\r\n\tvar arrPagePath \x3d window.location.pathname.split(\x27/\x27);\r\n\tvar pagePathLength \x3d arrPagePath.length-1;\r\n\t\t\r\n\t/* TRY the ANF.catalog.data.categoryHierarchyObj - this exists for all non-error CMS driven pages */\r\n\ttry { var categoryHierarchyObj \x3d ANF.catalog.data.categoryHierarchyObj; } catch(e) { }\r\n\tif (typeof categoryHierarchyObj !\x3d \x27undefined\x27) {\r\n\t\t$.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){ \r\n\t\t\tif (typeof v.enName !\x3d \x22undefined\x22 \x26\x26 v.enName.toLowerCase() !\x3d \x22hol\x22 \x26\x26 v.enName.toLowerCase() !\x3d \x22anf\x22 \x26\x26 v.enName.toLowerCase() !\x3d \x22kids\x22) {\r\n\t\t\t\tif (i\x3d\x3d1 \x26\x26 ANF.catalog.data.categoryHierarchyObj[0].enName.toLowerCase() \x3d\x3d \x27kids\x27 \x26\x26 (v.enName.toLowerCase()!\x3d\x22boys\x22 \x26\x26 v.enName.toLowerCase()!\x3d\x22girls\x22) ) {\r\n\t\t\t\t\tpg +\x3d \x22:\x22+ANF.catalog.data.categoryHierarchyObj[0].enName.toLowerCase();\r\n\t\t\t\t\tpg +\x3d \x22-\x22+v.enName.toLowerCase();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpg +\x3d \x22:\x22+v.enName.toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t} else if (i!\x3d0) {\r\n\t\t\t\tpg +\x3d \x22:\x22+v.name.toLowerCase();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/* Adjustments */\r\n\tif (bodyid \x3d\x3d \x27home\x27) {\r\n\t\tpg +\x3d \x22:home\x22;\r\n\t} else if (bodyid \x3d\x3d \x27brand-content\x27) {\r\n\t\tif (typeof categoryHierarchyObj \x3d\x3d \x27undefined\x27) {\r\n\t\t\t/* brand content top-nav linked pages */\r\n\t\t\ttry {\r\n\t\t\t\tif (arrPagePath.indexOf(\x27br\x27) \x3d\x3d 3) {\r\n\t\t\t\t\tpg +\x3d \x22:\x22 + arrPagePath.slice(4,pagePathLength+1).join(\x27:\x27);\r\n\t\t\t\t\tif (bt_parameter(\x27brand\x27)\x3d\x3d\x27kids\x27) { pg +\x3d \x22:kids\x22; }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow(e);\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tpg +\x3d \x22:brand content unknown\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ($(\x27.jeans-lounge-wrapper\x27).length \x3e 0 || $(\x27#btsjeans-landing\x27).length \x3e 0 ) {\r\n\t\t\t\tpg \x3d \x22:denim guide\x22;\r\n\t\t}\r\n\t}\r\n\tif (bodyid \x3d\x3d null \x26\x26 pg \x3d\x3d \x27\x27) {\r\n\t\tpg +\x3d \x22:\x22 + \x27unknown\x27;\r\n\t} else if (bodyid !\x3d null \x26\x26 bodyid !\x3d \x22\x22 \x26\x26 pg \x3d\x3d \x27\x27) {\r\n\t\tpg +\x3d \x22:\x22 + bodyid.split(\x27-\x27).join(\x27:\x27);\r\n\t\tpg \x3d pg.replace(\x27:fastEnroll\x27,\x27:my account:fastenroll\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account:user:verify:v2\x27,\x27:my account:verify password\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account:sign:in:v2\x27,\x27:my account:log in\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account:create:v2\x27,\x27:my account:create\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account:mainpage\x27,\x27:my account:dashboard\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account:password:update:v2\x27,\x27:my account:password update\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account:rewards\x27,\x27:my account:rewards\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tif ($(\x27form#login-form input#login-password-field\x27).length \x3e 0) {\r\n\t\t\tpg \x3d pg.replace(\x27:account:social:login:v2\x27,\x27:my account:social login:enter password\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t} else if ($(\x27form#login-form input#login-phone-field1\x27).length \x3e 0) {\r\n\t\t\tpg \x3d pg.replace(\x27:account:social:login:v2\x27,\x27:my account:social login:enter phone number\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t} else if ($(\x27form#login-form input#email\x27).length \x3e 0) {\r\n\t\t\tpg \x3d pg.replace(\x27:account:social:login:v2\x27,\x27:my account:social login:enter email\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t}\r\n\t\tif ($(\x27.sign-in-section\x27).is(\x27:visible\x27)) {\r\n\t\t\tpg \x3d pg.replace(\x27:account:social:sign:on:v2\x27,\x27:my account:login\x27).toLowerCase();\r\n\t\t}\r\n\t\tif ($(\x27.create-account-section\x27).is(\x27:visible\x27)) {\r\n\t\t\tpg \x3d pg.replace(\x27:account:social:sign:on:v2\x27,\x27:my account:create\x27).toLowerCase();\r\n\t\t}\r\n\t\tpg \x3d pg.replace(\x27:account:social:sign:on:v2\x27,\x27:my account:step 0 authentication\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:accountsection:ordertracking\x27,\x27:my account:orders\x27).replace(\x27:account:ordertracking\x27,\x27:my account:orders\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:accountsection\x27,\x27:my account\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:account\x27,\x27:my account\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:catalog:searchview\x27,\x27:search\x27).toLowerCase(); /* rename \x22Search Results\x22 */\r\n\t\tpg \x3d pg.replace(\x27:catalog:grid:saves\x27,\x27:my account:my saves\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\tpg \x3d pg.replace(\x27:catalog:thematic\x27,\x27:bloomreach:\x27+$(\x27.cat-name\x27).text().trim()).toLowerCase(); /* rename BloomReach thematic pages */\r\n\t\tif (bodyid \x3d\x3d \x27catalog-categoryview\x27 \x26\x26 bodyclass.indexOf(\x27just-your-style\x27) \x3e -1) {\r\n\t\t\tpg \x3d pg.replace(\x27catalog:categoryview\x27,\x27just for you\x27);\r\n\t\t}\r\n\t\tif (bodyid \x3d\x3d \x27catalog-divisionview\x27 \x26\x26 bodyclass.indexOf(\x27brand-kids\x27) \x3e -1) {\r\n\t\t\tpg \x3d pg.replace(\x27catalog:divisionview\x27,\x27kids home\x27);\r\n\t\t}\r\n\t\tif (pg \x3d\x3d \x27:catalog:divisionview\x27) {\r\n\t\t\tif (arrPagePath.length \x3d\x3d 5 \x26\x26 arrPagePath[4]\x3d\x3d\x27girls\x27) { pg \x3d \x27:girls\x27; }\r\n\t\t\tif (arrPagePath.length \x3d\x3d 6 \x26\x26 arrPagePath[4]\x3d\x3d\x27girls\x27 \x26\x26 arrPagePath[5]\x3d\x3d\x27\x27) { pg \x3d \x27:girls\x27; } \r\n\t\t}\r\n\t}\r\n\r\n\tif (arrPagePath[pagePathLength] \x3d\x3d \x22\x22) {\r\n\t\tif (arrPagePath[pagePathLength -1] \x3d\x3d \x22kids\x22) {\r\n\t\t\tpg \x3d \x22:kids home\x22;\r\n\t\t}\r\n\t} else {\r\n\t\tif (arrPagePath[pagePathLength] \x3d\x3d \x22kids\x22) {\r\n\t\t\tpg \x3d \x22:kids home\x22;\r\n\t\t}\r\n\t}\r\n\r\n\tif ($(\x27div.reset-password\x27).length\x3e0) {\r\n\t\tpg+\x3d\x22:reset password\x22;\r\n\t\tif ($(\x27.reset-password.success\x27).length\x3e0) {\r\n\t\t\tpg+\x3d\x22:success\x22;\r\n\t\t}\r\n\t\tif ($(\x27#forgot-password-form #messages.errors\x27).length\x3e0){\r\n\t\t\tpg+\x3d\x22:error\x22;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tif ($(\x27.checkoutV2 #messages.errors\x27).length \x3e 0 ) {\r\n\t\tpg+\x3d\x22:error\x22;\r\n\t}\r\n\r\n\tif ($(\x27.social-signon__error-message\x27).length \x3e 0) {\r\n\t\tif ($(\x27.social-signon__error-message\x27).is(\x27:visible\x27)) {\r\n\t\t\tif ($(\x27.social-signon__error-message\x27).html().trim().length \x3e 0) {\r\n\t\t\t\tpg+\x3d\x22:error\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tif ($(\x27div.content.gift-guide-content\x27).length \x3e 0) {\r\n\t\tpg \x3d \x22:gift guide\x22;\r\n\t\tif (bt_parameter(\x27gender\x27) \x3d\x3d \x22gender-m\x22) {\r\n\t\t\tpg +\x3d \x22:Guys\x22;\r\n\t\t}\r\n\t\tif (bt_parameter(\x27gender\x27) \x3d\x3d \x22gender-f\x22) {\r\n\t\t\tpg +\x3d \x22:Girls\x22;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif ($(\x27.order-tracking-section-wrap\x27).length\x3e0 || $(\x27.order-history__header\x27).length\x3e0) {\r\n\t\tpg \x3d pg.replace(\x27:orderdetail\x27,\x27\x27).toLowerCase();\r\n\t\tpg+\x3d\x22:order-details\x22;\r\n\t\tpg \x3d pg.replace(\x27::\x27,\x27:\x27);\r\n\t}\r\n    \r\n\tif ($(\x27.return-details_orderid-label\x27).length \x3e 0) {\r\n\t\tpg +\x3d \x22:return details\x22;  \r\n\t}\r\n\r\n\tif ($(\x27.returns-flow_container-section\x27).length \x3e 0) {\r\n\t\tpg +\x3d \x22:returns\x22;\r\n\t}\r\n\t\t\r\n\tif ($(\x27#payment-auth\x27).length \x3e 0) {\r\n\t\tpg +\x3d \x22:payment authorization\x22;\r\n\t\tpg \x3d pg.replace(\x27::\x27,\x27:\x27);\r\n\t}\r\n\r\n\tif (bodyclass.indexOf(\x27matching-set-view\x27) \x3e -1) { \r\n\t\tpg +\x3d \x22:matching set\x22;\r\n\t}\r\n\t\r\n\tif (bodyclass.indexOf(\x27search-view\x27) \x3e -1) {\r\n\t\tpg \x3d pg.replace(\x27catalog:grid\x27,\x27search\x27).toLowerCase();\r\n\t}\r\n\r\n\tif (typeof $(\x27div.gift-guide-nav .selected a\x27).html() !\x3d\x3d \x27undefined\x27 \x26\x26 $(\x27div.gift-guide-nav .selected a\x27).html() !\x3d\x3d null) {\r\n\t\tpg +\x3d \x22:\x22 + $(\x27div.gift-guide-nav .selected a\x27).html();\r\n\t}\r\n\r\n\t/* STEP 4: ADD PDP PRODUCT NAMES */\r\n\tif ((bodyid \x3d\x3d \x27catalog-productpageview\x27 || bodyclass.indexOf(\x27catalog-product\x27) \x3e -1 ) \x26\x26 typeof $(\x27form.add-to-bag input[name\x3d\x22name\x22]\x27).val() !\x3d \x27undefined\x27 \x26\x26 $(\x27form.add-to-bag input[name\x3d\x22name\x22]\x27).val() !\x3d\x3d null) {\r\n\t\tif (bodyid \x3d\x3d \x22catalog-productensemble\x22) {\r\n\t\t\tpg +\x3d \x22:ensemble\x22;\r\n\t\t} else {\r\n\t\t\tpg +\x3d \x22:\x22 + $(\x27form.add-to-bag input[name\x3d\x22name\x22]:first\x27).val();\r\n\t\t}\r\n\t}\r\n\r\n\tif ($(\x27.product-page-info__title\x27).length \x3e 0) {\r\n\t\t/* New PDP July 2016 */\r\n\t\tpg +\x3d \x22:\x22 + $(\x27.product-page-info__title\x27).attr(\x27data-title-not-translated\x27).toLowerCase().replace(\x27\x26\x27,\x27and\x27);\r\n\t}\r\n\r\n\r\n\tif (bodyid \x3d\x3d \x27catalog-giftcard\x27) {\r\n\t\tpg +\x3d \x22:\x22 + $(\x27.add-to-bag input[name\x3d\x22collectionId\x22]:first\x27).val();\r\n\t}\r\n\r\n\tif (bt_parameter(\x27textKey\x27) !\x3d \x22\x22) {\r\n\t\t/* New Customer Service pages */\r\n\t\tpg +\x3d \x22:help:\x22 + bt_parameter(\x27textKey\x27).toLowerCase().replace(\x27help_\x27,\x27\x27);\r\n\t} else if (bt_parameter(\x27pagename\x27) !\x3d \x22\x22) {\r\n\t\t/* Customer Service pages */\r\n\t\tpg +\x3d \x22:\x22 + bt_parameter(\x27pagename\x27);\r\n\t}\r\n\r\n\tif (pg.indexOf(\x27:modularhelp\x27) \x3e -1) {\r\n\t\tpg \x3d pg.replace(\x27:modularhelp\x27,\x27:help\x27);\r\n\t}\r\n\r\n\tif (pg.split(\x27:\x27).slice(-1) \x3d\x3d \x22v2\x22) {\r\n\t\tpg \x3d pg.split(\x27:\x27).slice(0,-1).join(\x27:\x27)\r\n\t}\r\n\t\t\r\n\t/* Some overrides */\r\n\tif (window.location.pathname.indexOf(\x27FileNotFoundError\x27) \x3e -1) {\r\n\t\t//return \x22:error\x22;\r\n\t} else if (window.location.pathname.indexOf(\x27DoPaymentErrorView\x27) \x3e -1) {\r\n\t\t//return \x22:checkout:payment:error\x22;\r\n\t} else if (window.location.pathname.indexOf(\x27ForwardToPayPalExpress\x27) \x3e -1) {\r\n\t\tpg \x3d \x22:checkout:verify for paypal express\x22;\r\n\t} else if (window.location.pathname.indexOf(\x27BillToShippingCheck\x27) \x3e -1) {\r\n\t\tpg \x3d \x22:checkout:verify for bill to shipping\x22;\r\n\t} else if (bodyclass.indexOf(\x27merged-bag__display\x27) \x3e -1) {\r\n\t\tpg \x3d \x22:checkout:portable bag merge\x22;\r\n\t} else if (bodyclass.indexOf(\x27order-review-page\x27) \x3e -1) {\r\n\t\tpg \x3d \x22:checkout:order review page\x22;\r\n\t} else if (typeof $(\x27body\x27).attr(\x27data-orderid\x27) !\x3d \x22undefined\x22) {\r\n\t\tif ($(\x27body\x27).attr(\x27data-orderid\x27).length \x3e 0) {\r\n\t\t\tpg \x3d \x22:checkout:receipt\x22;\r\n\t\t}\r\n\t}\r\n\r\n\tif ($(\x27.cross-repudiation-warning\x27).length \x3e 0) {\r\n\t\tpg +\x3d \x22:cross site loyalty repudiation\x22;\r\n\t}\r\n\r\n\r\n\t/* ANF Search Results with Kids */\r\n\tif ($(\x27.department-tabs__tab.active-dept\x27).length \x3e 0){\r\n\t\t/* ANF US DC */\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2212202\x22) {\r\n\t\t\tpg +\x3d \x22:mens\x22;\r\n\t\t}\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2212203\x22) {\r\n\t\t\tpg +\x3d \x22:womens\x22;\r\n\t\t}\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179205\x22) {\r\n\t\t\tpg +\x3d \x22:boys\x22;\r\n\t\t}\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179206\x22) {\r\n\t\t\tpg +\x3d \x22:girls\x22;\r\n\t\t}\r\n\t\t/* ANF NL DC */\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2284506\x22) {\r\n\t\t\tpg +\x3d \x22:mens\x22;\r\n\t\t}\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2284593\x22) {\r\n\t\tpg +\x3d \x22:womens\x22;\r\n\t\t}\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179211\x22) {\r\n\t\t\tpg +\x3d \x22:boys\x22;\r\n\t\t}\r\n\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179212\x22) {\r\n\t\t\tpg +\x3d \x22:girls\x22;\r\n\t\t}\r\n\t}\r\n\r\n\t/* replace quotes and apostrophes */\r\n\tif (pg.length \x3d\x3d 0) {\r\n\t\tthrow(e);\r\n\t}\r\n\r\n\tif (typeof BTCartState !\x3d \x22undefined\x22) {\r\n\t\tif (typeof BTCartState.pagename !\x3d \x22undefined\x22) {\r\n\t\t\tpg \x3d \x22:checkout:\x22 + BTCartState.pagename;\r\n\t\t}\r\n\t}\r\n\r\n\treturn pg.replace(/\x27/g,\x22\x22).replace(/\x22/g,\x22\x26quot;\x22).toLowerCase();\r\n\t} catch(e) {\r\n\t\treturn \x22:brighttag error\x22\r\n\t}\r\n\r\n})();',{pageId:6988});
s.dbe('physical store id', '(function(){\r\n    if (bt_cookie(\x27physicalStoreId\x27)){\r\n        return bt_cookie(\x27physicalStoreId\x27).split(\x27#\x27)[0];\r\n    } else {\r\n        return bt_parameter(\x27physicalStoreId\x27);\r\n    }\r\n})();',{pageId:6988});
s.dbe('sitecatalyst page level events', '(function() { var BTsc \x3d bt_cookie(\x22BTsc\x22), event \x3d \x22\x22; if (BTsc) { event \x3d BTsc; } return event; })(); ',{pageId:6998});
s.dbe('user generated content location', '(function(){\r\n    if (bt_parameter(\x27ugc\x27).length\x3e0) { return \x22ugc:\x22 + bt_parameter(\x27ugc\x27).toLowerCase(); }\r\n})();',{pageId:6988});
s.dbe('brand code', '\x22hol\x22',{pageId:10567});
s.dbe('qs params', '(function(){\r\n  params \x3d [];\r\n  for (i\x3d0;i\x3cwindow.location.search.split(\x27\x26\x27).length;i++) {\r\n    params.push(window.location.search.split(\x27\x26\x27)[i].split(\x27\x3d\x27)[0]);\r\n  }\r\n  return params.toString();\r\n})()',{pageId:6988});
s.dbe('brighttag version', '(function(){ try { return \x22 \x22 + BTHelpers; } catch(e) { return \x22 BThelpers undefined\x22; } })(); ',{pageId:6988});
s.dbe('registered account id', '(function() {\r\n\ttry {\r\n\t\tvar thisId \x3d \x22\x22;\r\n\t\ttry {\r\n\t\t\tthisId \x3d document.cookie.split(\x27WC_AUTHENTICATION_\x27)[1].split(\x27\x3d\x27)[0] || \x22\x22;\r\n\t\t\tif (thisId \x3d\x3d \x27-1002\x27) thisId \x3d \x22\x22;\r\n\t\t} catch (e) {\r\n\t\t\tthisID \x3d \x22\x22;\r\n\t\t}\r\n    \r\n\t\tif (thisId !\x3d \x22\x22) {\r\n\t\t\tif ($.cookie(\x27WC_USERACTIVITY_\x27+thisId) \x3d\x3d null ) {\r\n\t\t\t\tthisId \x3d \x22\x22;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($.cookie(\x27userType\x27) \x3d\x3d \x27R\x27 \x26\x26 thisId !\x3d \x22-1002\x22  \x26\x26 thisId !\x3d \x22\x22 \x26\x26 typeof thisId !\x3d \x27undefined\x27) {\r\n\t\t\ttry {\r\n\t\t\t\twindow.localStorage.authUserId \x3d thisId;\r\n\t\t\t} catch(e) {\r\n\t\t\t}\r\n\t\t\treturn thisId;\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\treturn window.localStorage.authUserId;\r\n\t\t\t} catch(e) {\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (e) {\r\n\t}\r\n})();',{pageId:6988});
s.dbe('find in store available', '(function(){\r\n    try {\r\n        if ($(\x27.find-in-store-tab\x27).length \x3e0 || $(\x27.product__actions--availability-wrapper\x27).length \x3e0) {\r\n            return \x27Find In Store Available\x27;\r\n        }\r\n    } catch(e) { }\r\n})();',{pageId:6988});
s.dbe('page type', '\x22homepage\x22',{pageId:6998});
s.dbe('first page hit indicator', '(function(){\r\n  return (typeof $.cookie(\x27s_sess\x27) \x3d\x3d \x27undefined\x27);\r\n})();',{pageId:6988});
s.dbe('page finding method', '(function(){\r\n    if (document.URL.indexOf(\x22\x26cmp\x3d\x22)\x3e0) return \x22external campaign\x22;\r\n    if (document.URL.indexOf(\x22?cmp\x3d\x22)\x3e0) return \x22external campaign\x22;\r\n    if (document.URL.indexOf(\x22\x26icmp\x3d\x22)\x3e0) return \x22internal campaign\x22;\r\n    if (document.URL.indexOf(\x22?icmp\x3d\x22)\x3e0) return \x22internal campaign\x22;\r\n    if (document.URL.indexOf(\x22nvtrack\x22)\x3e0) return \x22narvar-recos\x22;\r\n    if (document.referrer.indexOf(\x22Search\x22)\x3e0) return \x22internal search\x22;\r\n    if (document.URL.indexOf(\x22\x26ugc\x3d\x22)\x3e0) return \x22ugc\x22;\r\n    if (document.URL.indexOf(\x22?ugc\x3d\x22)\x3e0) return \x22ugc\x22;\r\n    if (document.referrer.split(\x27/\x27)[5] \x3d\x3d \x22share\x22) return \x22shared bag\x22;\r\n    if (typeof BTanalytics !\x3d \x27undefined\x27) { if (typeof BTanalytics.pageFindingMethod !\x3d \x27undefined\x27) { return BTanalytics.pageFindingMethod; } };\r\n    if (document.referrer.split(\x27/\x27)[2] !\x3d document.domain) return \x22external non-campaign\x22;\r\n    return \x22navigation\x22\r\n})();',{pageId:6988});
s.dbe('true resolution', 'screen.width + \x22x\x22 + screen.height',{pageId:6988});
s.dbe('customer first name', '(function() {\r\n  try {\r\n    return $(\x27#util-account\x27).attr(\x27data-first-name\x27);\r\n  } catch (e) {\r\n  }\r\n})(); ',{pageId:6988});
s.dbe('site language', '(function(){\r\n\tvar lang \x3d \x22en\x22;\r\n\ttry {\r\n\t\tif (typeof $(\x27html\x27).attr(\x27lang\x27) !\x3d \x27undefined\x27) {\r\n\t\t\tlang \x3d $(\x27html\x27).attr(\x27lang\x27);\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tlang \x3d \x22en\x22;\r\n\t}\r\n\t\r\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\tBTanalytics.curLang \x3d lang;\r\n\t}\r\n\treturn lang;\r\n\r\n}());',{pageId:6988});
s.dbe('cartnotification', '(function(){\r\n\tvar theseItems \x3d [];\r\n\ttry{\r\n\t\tif (typeof $(\x27#cartReminderTemplate\x27).attr(\x27notificationEligible\x27) !\x3d \x22undefined\x22) {\r\n\t\t\ttheseItems.push( $(\x27#cartReminderTemplate\x27).attr(\x27notificationEligible\x27) + \x27_eligible\x27 );\r\n\t\t}\r\n\t\tif (typeof $(\x27#lowInvTemplate\x27).attr(\x27notificationEligible\x27) !\x3d \x22undefined\x22) {\r\n\t\t\ttheseItems.push( $(\x27#lowInvTemplate\x27).attr(\x27notificationEligible\x27) + \x27_eligible\x27 );\r\n\t\t}\r\n\t} catch(e) {\r\n\t\t\ttheseItems.push( \x22error\x22 + \x27_elligible\x27 );\r\n\t}\r\n\r\n\ttry{\r\n\t\tif (typeof $(\x27#cartReminderTemplate\x27).attr(\x27notificationShown\x27) !\x3d \x22undefined\x22) {\r\n\t\t\ttheseItems.push( $(\x27#cartReminderTemplate\x27).attr(\x27notificationShown\x27) + \x27_shown\x27 );\r\n\t\t}\r\n\t\tif (typeof $(\x27#lowInvTemplate\x27).attr(\x27notificationShown\x27) !\x3d \x22undefined\x22) {\r\n\t\t\ttheseItems.push( $(\x27#lowInvTemplate\x27).attr(\x27notificationShown\x27) + \x27_shown\x27 );\r\n\t\t}\r\n\r\n\t\teligibleList \x3d shownList \x3d \x22\x22;\r\n\t\tif ($(\x27[data-notifications-eligible]\x27).length \x3e 0) {\r\n\t\t\tif ($(\x27[data-notifications-eligible]\x27).attr(\x27data-notifications-eligible\x27) !\x3d \x22\x22) {\r\n\t\t\t\tvar arrEligible \x3d $(\x27[data-notifications-eligible]\x27).attr(\x27data-notifications-eligible\x27).split(\x27,\x27);\r\n\t\t\t\tfor (i\x3d0;i \x3c arrEligible.length;i++) {\r\n\t\t\t\t\tarrEligible[i] +\x3d \x22_eligible\x22;\r\n\t\t\t\t}\r\n\t\t\t\teligibleList \x3d arrEligible.toString() || \x22no_eligibility\x22;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($(\x27[data-notifications-shown]\x27).length \x3e 0) {\r\n\t\t\tif ($(\x27[data-notifications-shown]\x27).attr(\x27data-notifications-shown\x27) !\x3d \x22\x22) {\r\n\t\t\t\tvar arrShown \x3d $(\x27[data-notifications-shown]\x27).attr(\x27data-notifications-shown\x27).split(\x27,\x27);\r\n\t\t\t\tfor (i\x3d0;i \x3c arrShown.length;i++) {\r\n\t\t\t\t\tarrShown[i] +\x3d \x22_shown\x22;\r\n\t\t\t\t}\r\n\t\t\t\tshownList \x3d arrShown.toString() || \x22\x22;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (eligibleList !\x3d \x22\x22 || shownList !\x3d \x22\x22) {\r\n\t\t\ttheseItems \x3d eligibleList + \x27,\x27 + shownList ;\r\n\t\t}\r\n\r\n\t} catch(e) {\r\n\t\t\ttheseItems.push( \x22error\x22 + \x27_shown\x27 );\r\n\t}\r\n\treturn theseItems.toString().toLowerCase();\r\n})();',{pageId:6988});
s.dbe('language preference', '(function(){\r\n\t/* Language from brower settings */\r\n\tvar browserLang \x3d (navigator.language) ? navigator.language : navigator.userLanguage;\r\n\tif (typeof browserLang \x3d\x3d \x27undefined\x27) { browserLang \x3d \x22\x22 };\r\n\r\n\treturn browserLang.toLowerCase();\r\n})();',{pageId:6988});
s.dbe('espotkey', '(function(){\r\n  if (bt_parameter(\x27productReview\x27) \x3d\x3d \x27true\x27) {\r\n    return \x22write a review:\x22 + bt_parameter(\x27espotKey\x27);\r\n  } else {\r\n    if (bt_parameter(\x27brand\x27) !\x3d \x22\x22) {\r\n      return bt_parameter(\x27brand\x27) + \x27-\x27 + bt_parameter(\x27espotKey\x27);\r\n    } else {\r\n      return bt_parameter(\x27espotKey\x27);\r\n    }\r\n  }\r\n})();',{pageId:6988});
s.dbe('page error message', '(function(){\r\n\tretVal \x3d \x22\x22;\r\n\tif ($(\x27.portable-bag__errors:visible\x27).length \x3e 0) {\r\n      \t\tretVal \x3d \x22portable bag error\x22;\r\n\t}\r\n\r\n\tif ($(\x27.return-submit_error\x27).length \x3e 0) {\r\n      \t\tretVal \x3d \x22return submit error\x22;\r\n\t}\r\n\r\n\treturn retVal;\r\n})();',{pageId:6988});
s.dbe('product color code', '(function(){\r\n  try {\r\n    return $(\x27input[name\x3dcseq]:first\x27).val() || \x22\x22;\r\n  } catch(e) {}\r\n})();',{pageId:6988});
s.dbe('calculated gender', '(function(){\r\n\ttry {\r\n\t\tvar thresholdGenderSwitch \x3d 70;\r\n\t\tvar pctMensBrowse \x3d (function(){\r\n\t\t\tvar catBrowse \x3d (function (){\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn window.localStorage.browseList;\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\r\n\t\t\tvar catBrowse_cnt \x3d catBrowse_mens \x3d catBrowse_womens \x3d 0;\r\n\t\t\ttry {\r\n\t\t\t\t$.each(catBrowse.split(\x27;\x27), function(i,d){\r\n\t\t\t\t\tif (d.split(\x27|\x27)[0]\x3d\x3d\x27guys\x27) {\r\n\t\t\t\t\t\tcatBrowse_mens \x3d catBrowse_mens + 1;\r\n\t\t\t\t\t\tcatBrowse_cnt \x3d catBrowse_cnt + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (d.split(\x27|\x27)[0]\x3d\x3d\x27girls\x27) {\r\n\t\t\t\t\t\tcatBrowse_womens \x3d catBrowse_womens + 1;\r\n\t\t\t\t\t\tcatBrowse_cnt \x3d catBrowse_cnt + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch(e) {}\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\treturn (catBrowse_mens / catBrowse_cnt)*100;\r\n\t\t\t} catch(e) {}\r\n\t\t})();\r\n\t\r\n\t\tvar pctMensAdd \x3d (function(){\r\n\t\t\tvar catAdd \x3d (function (){\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn window.localStorage.addList;\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\r\n\t\t\tvar catAdd_cnt \x3d catAdd_mens \x3d catAdd_womens \x3d 0;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$.each(catAdd.split(\x27;\x27), function(i,d){\r\n\t\t\t\t\t\tif (d.split(\x27|\x27)[0]\x3d\x3d\x27guys\x27) {\r\n\t\t\t\t\t\t\tcatAdd_mens \x3d catAdd_mens + 1;\r\n\t\t\t\t\t\t\tcatAdd_cnt \x3d catAdd_cnt + 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (d.split(\x27|\x27)[0]\x3d\x3d\x27girls\x27) {\r\n\t\t\t\t\t\t\tcatAdd_womens \x3d catAdd_womens + 1;\r\n\t\t\t\t\t\t\tcatAdd_cnt \x3d catAdd_cnt + 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch(e) {}\r\n\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn (catAdd_mens / catAdd_cnt)*100;\r\n\t\t\t\t} catch(e) {}\r\n\t\t})();\r\n\t\r\n\t\tvar omridMens \x3d (function(){\r\n\t\t\treturn false;\r\n\t\t})();\r\n\t\r\n\t\tvar omridWomens \x3d (function(){\r\n\t\t\treturn false;\r\n\t\t})();\r\n\t\r\n\t\tif (pctMensAdd \x3e\x3d thresholdGenderSwitch || pctMensBrowse \x3e\x3d thresholdGenderSwitch || omridMens) {\r\n\t\t\tlocalStorage.calculatedGenderID \x3d \x2712551\x27;\r\n\t\t\treturn \x22Mens\x22;\r\n\t\t}\r\n\t\t\r\n\t\tif ((100-pctMensAdd) \x3e\x3d thresholdGenderSwitch || (100-pctMensBrowse) \x3e\x3d thresholdGenderSwitch || omridWomens) {\r\n\t\t\tlocalStorage.calculatedGenderID \x3d \x2712552\x27;\r\n\t\t\treturn \x22Womens\x22;\r\n\t\t}\r\n\t\r\n\t\tif (typeof localStorage.calculatedGenderID !\x3d \x27undefined\x27) {\r\n\t\t\tdelete localStorage.calculatedGenderID;\r\n\t\t}\r\n\t\treturn \x22\x22;\r\n\t} catch(e) {\r\n\t}\r\n})();',{pageId:10567});
s.dbe('html body id', 'try {\r\n  $(\x27body\x27).attr(\x27id\x27)\r\n} catch(e) {\r\n}',{pageId:6988});
s.dbe('order in store transaction id', 'bt_parameter(\x27oisId\x27)',{pageId:6988});
s.dbe('content doublecheck', '(function(){\r\n\tvar dblCheck \x3d new Array;\r\n  \r\n\t/* Shopping Cart - Wift With Purchase */\r\n\ttry {\r\n\t\tif ($(\x27[data-espotname\x3d\x22Checkout_GuestUserGiftWithPurchase\x22]\x27).length \x3e 0) {\r\n\t\t\tdblCheck.push(\x27Gift With Purchase\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\t/* Factes in Left Nav */ \r\n\ttry {\r\n\t\tif ($(\x27.category-facets-wrap, .rs-facets--vertical\x27).length \x3e 0) {\r\n\t\t\tdblCheck.push(\x27Facets in Left Nav\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\t/* 55.1-RAD Shipping Proximity */ \r\n\ttry {\r\n\t\tif ($(\x27.shippingProx\x27).length \x3e 0) {\r\n\t\t\tdblCheck.push(\x27shipping proximity\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\t/* 66.1-RAD - Upsell */\r\n\ttry {\r\n\t\tif ($(\x27.upsell-wrapper\x27).length \x3e 0) {\r\n\t\t\tdblCheck.push(\x27upsell - \x27 + $(\x27.upsell-wrapper\x27).attr(\x27data-upsell-type\x27));\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\t/* Available In Store filtering */\r\n\ttry {\r\n\t\tif ($(\x22.rs-facet-tile-location__wrapper\x22).length \x3e 0) {\r\n\t\t\tdblCheck.push(\x27AvailableInStore exists\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif ($(\x22.rs-facet-tile-location__wrapper\x22).not(\x22.hide\x22).length \x3e 0) {\r\n\t\t\tdblCheck.push(\x27AvailableInStore shown\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\r\n\t/* Checkout Prefills */\r\n\ttry {\r\n\t\tif (typeof bt_eval(\x27ANF.models.wallet.defaultSavedPaymentId\x27) \x3d\x3d \x22string\x22) {\r\n\t\t\tdblCheck.push(\x27default payment\x27);\r\n\t\t}\r\n\r\n\t\tif (typeof bt_eval(\x27ANF.models.addressBook.defaultShipping\x27) \x3d\x3d \x22string\x22) {\r\n\t\t\tdblCheck.push(\x27default shipping\x27);\r\n\t\t}\r\n\r\n\t} catch(e) { }\r\n\r\n\r\n\treturn dblCheck.toString();\r\n})();',{pageId:6988});
s.dbe('product thumbnail', '(function(){ \r\n\tvar retVal \x3d \x22\x22;\r\n\r\n\tif (retVal \x3d\x3d \x22\x22 || typeof retVal \x3d\x3d \x22undefined\x22) {\r\n\t\ttry { \r\n\t\t\tretVal \x3d $(\x27.product-page-v2-modules\x27).attr(\x27data-default-img-name-sufix\x27); \r\n\t\t} catch(e) {}\r\n\t}\r\n\r\n\tif (retVal \x3d\x3d \x22\x22 || typeof retVal \x3d\x3d \x22undefined\x22) {\r\n\t\ttry { \r\n\t\t\tvar $thisImg \x3d $(\x27.product .current-slide img\x27).attr(\x27src\x27) || $(\x27.product img.prod-img:first\x27).attr(\x27src\x27);\r\n\t\t\tretVal \x3d $thisImg.split(\x27_\x27).slice(3,4).toString().split(\x27?\x27).slice(0,1).toString(); \r\n\t\t} catch(e) {}\r\n\t}\r\n\r\n\r\n\treturn retVal || \x22prod1\x22;\r\n})();',{pageId:6988});
s.dbe('cart items', '(function(){\r\n  try {\r\n    store \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId;\r\n    return $.cookie(\x27af-minicart-\x27+store) || 0\r\n  } catch(e) {\r\n    return \x22\x22;\r\n  }\r\n})();',{pageId:6988});
s.dbe('personalization - add list', '(function(){\n\ttry {\n\t\treturn window.localStorage.addList;\n\t} catch(e) {\n\t\treturn \x22\x22;\n\t}\n})();',{pageId:6988});
s.dbe('successful account create', '(function(){\r\n\ttry {\r\n\t\tif (BTanalytics.WCSAcctCreate \x3d\x3d \x27true\x27 || BTanalytics.WCSAcctCreate \x3d\x3d true) {\r\n\t\t\ttry { console.log(\x27BTanalytics.WCSAcctCreate \x3d\x3d true\x27) }  catch(e) { }\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} catch(e) {\r\n\t}\r\n})();',{pageId:6988});
s.dbe('html body class', 'try {\r\n  $(\x27body\x27).attr(\x27class\x27)\r\n} catch(e) {\r\n}',{pageId:6988});
s.dbe('do not track indicator', '(function(){\r\n  var isDNT \x3d (navigator.doNotTrack \x3d\x3d \x22yes\x22 || navigator.doNotTrack \x3d\x3d \x221\x22 || navigator.msDoNotTrack \x3d\x3d \x221\x22) ? \x22do not track\x22 : \x22ok to track\x22;\r\n  return isDNT;\r\n})();',{pageId:6988});
s.dbe('email campaign id', 'bt_parameter(\x27om_mid\x27) || bt_parameter(\x27et_cid\x27)',{pageId:6988});
s.dbe('customer gender', '(function() {\r\n  try {\r\n\tvar gender \x3d $(\x27select#gender\x27).val() || $(\x27select#gender-field\x27).val() || $(\x27input[name\x3dGENDER]:checked\x27).val() || \x22\x22; \r\n\tswitch ( gender ) { \r\n\t\tcase \x22M\x22: \r\n\t\t\tgender \x3d \x22Male\x22; \r\n\t\t\tbreak; \r\n\t\tcase \x22F\x22: \r\n\t\t\tgender \x3d \x22Female\x22; \r\n\t\t\tbreak; \r\n\t\tcase \x22N\x22: \r\n\t\t\tgender \x3d \x22\x22; \r\n\t\t\tbreak; \r\n\t\tcase \x22\x22: \r\n\t\t\ttry {\r\n\t\t\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\t\t\tif (typeof BTanalytics.gender !\x3d \x27undefined\x27) { \r\n\t\t\t\t\t\tgender \x3d BTanalytics.gender; \r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t} catch(e) { //Do nothing\r\n\t\t\t}\r\n\t\t\tbreak; \r\n\t} \r\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\tBTanalytics.gender \x3d gender; \r\n\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27}); \r\n\t}\r\n\treturn gender; \r\n  } catch (e) {\r\n  }\r\n})(); ',{pageId:6988});
s.dbe('collection ids, price flag, kic - delimited (;)', 'try {\r\n\tif ($(\x27.product\x27).length \x3e 0) {\r\n\t\t$(\x27.product\x27).map(function(){\r\n\t\t\tvar collection \x3d $(this).attr(\x27data-collection\x27);\r\n\t\t\tvar priceFlag \x3d $(this).attr(\x27data-price-flag\x27);\r\n\t\t\tvar kic \x3d $(this).attr(\x27data-kic\x27) || \x22unknown-pageload\x22;\r\n\t\t\treturn collection + \x22,\x22 + priceFlag + \x22,\x22 + kic;\r\n\t\t}).get().join(\x27;\x27);\r\n\t}\r\n} catch (e) { }',{pageId:6988});
s.dbe('user authentication state', '(function(){\r\n\tvar userType \x3d (function(){\r\n\t\ttry {\r\n\t\t\treturn $.cookie(\x27userType\x27) || \x22G\x22;\r\n\t\t} catch(e) {\r\n\t\t\treturn \x22G\x22;\r\n\t\t}\r\n\t})();\r\n\r\n\tvar authenticatedID \x3d (function() {\r\n\t\ttry {\r\n\t\t\tvar thisId \x3d \x22\x22;\r\n\t\t\ttry {\r\n\t\t\t\tthisId \x3d document.cookie.split(\x27WC_AUTHENTICATION_\x27)[1].split(\x27\x3d\x27)[0] || \x22\x22;\r\n\t\t\t\tif (thisId \x3d\x3d \x27-1002\x27) thisId \x3d \x22\x22;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthisID \x3d \x22\x22;\r\n\t\t\t}\r\n\t    \r\n\t\t\tif (thisId !\x3d \x22\x22) {\r\n\t\t\t\tif ($.cookie(\x27WC_USERACTIVITY_\x27+thisId) \x3d\x3d null ) {\r\n\t\t\t\t\tthisId \x3d \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif ($.cookie(\x27userType\x27) \x3d\x3d \x27R\x27 \x26\x26 thisId !\x3d \x22-1002\x22  \x26\x26 thisId !\x3d \x22\x22 \x26\x26 typeof thisId !\x3d \x27undefined\x27) {\r\n\t\t\t\treturn thisId;\r\n\t\t\t} else {\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\treturn \x22\x22;\r\n\t\t}\r\n\t})();\r\n\r\n\tif (userType \x3d\x3d \x22G\x22){\r\n\t\treturn \x22guest\x22;\r\n\t}\r\n\r\n\tif (userType \x3d\x3d \x22R\x22 \x26\x26 authenticatedID !\x3d \x22\x22){\r\n\t\treturn \x22authenticated\x22;\r\n\t} else {\r\n\t\treturn \x22remembered\x22;\r\n\t}\r\n\r\n})();',{pageId:6988});
s.dbe('heatmap guid', 'bt_cookie(\x27sc.UserId\x27)',{pageId:6988});
s.dbe('experience page name', '(function() {\r\n  try {\r\n\tvar bodyId \x3d $(\x27body\x27).attr(\x27id\x27) || \x22\x22;\r\n\tvar bodyClass \x3d $(\x27body\x27).attr(\x27class\x27) || \x22\x22;\r\n\r\n\tif (bodyId \x3d\x3d \x27catalog-jeansguide\x27) { \r\n\t\treturn \x27denim guide\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-weatherwarrior\x27) { \r\n\t\treturn \x27weather warrior\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-ghsport\x27) { \r\n\t\treturn \x27gh sport\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-brasandundies\x27) { \r\n\t\treturn \x27gh bras and undies\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-ghcozy\x27) { \r\n\t\treturn \x27gh sleep\x27;\r\n\t}\r\n\tif (bodyClass.indexOf(\x27gift-guide\x27) \x3e -1) { \r\n\t\treturn \x27gift guide\x27;\r\n\t}\r\n  } catch(e) {\r\n  }\r\n})();',{pageId:6988});
s.dbe('category id', '(function() {\r\n    var catID \x3d \x22\x22;\r\n    try{\r\n            catID \x3d ANF.catalog.data.categoryId;\r\n    } catch(e) {}\r\n    return catID\r\n})();',{pageId:6988});
s.dbe('optimizely indicator', '(function(){\r\n   var indicator \x3d (typeof optly !\x3d \x27undefined\x27) ? \x22Optimizely \x22 : \x22\x22;\r\n  indicator +\x3d (typeof optimizelyAccount !\x3d \x22undefined\x22) ? optimizelyAccount : \x22\x22;\r\n   return indicator;\r\n})();',{pageId:6988});
s.dbe('device id', 'bt_parameter(\x22d_id\x22)',{pageId:6988});
s.dbe('browser feature support', '(function(){\r\n  var features \x3d [];\r\n  try {\r\n\r\n    try {\r\n      if (Modernizr.touch) {\r\n        features.push(\x22touch supported\x22);\r\n      } else {\r\n        features.push(\x22touch not supported\x22);\r\n      }\r\n    } catch(e) {\r\n      features.push(\x22touch not supported\x22);\r\n    }\r\n\r\n    try {\r\n      localStorage.setItem(\x27test\x27,\x271\x27);\r\n      features.push(\x22localStorage\x22);\r\n      localStorage.removeItem(\x27test\x27);\r\n\r\n    } catch(e) {\r\n      features.push(\x22no localStorage\x22);\r\n    }\r\n\r\n    try {\r\n      if (BTanalytics.privateMode !\x3d \x22\x22 \x26\x26 typeof BTanalytics.privateMode !\x3d \x22undefined\x22) {\r\n        features.push(BTanalytics.privateMode);\r\n      }\r\n    } catch(e) { }\r\n\r\n  } catch (e) {\r\n    /* do nothing */\r\n  }\r\n  return features.join(\x22:\x22);\r\n})();',{pageId:6988});
s.dbe('store id', '(function () {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromCookie\x3d\x27\x27;\r\n\tvar baseKey \x3d \x27\x27;\r\n\tvar stepValue \x3d \x27\x27\r\n\tvar returnValue \x3d \x27\x27;\r\n\r\n\t//find possible values\r\n\ttry {\r\n\t\tfromURL \x3d bt_parameter(\x27storeId\x27).split(\x27,\x27)[0];\r\n\t\tif ($.isNumeric(fromURL) \x26\x26 fromURL.length \x3d\x3d 5) {\r\n\t\t\t// Do nothing\r\n\t\t} else {\r\n\t\t\tif (fromURL.length \x3e 5 \x26\x26 $.isNumeric(fromURL.substr(0,5))) {\r\n\t\t\t\tfromURL \x3d fromURL.substr(0,5);\r\n\t\t\t} else {\r\n                if (fromURL.length \x3e 0) {\r\n                    fromURL \x3d \x22storeid invalid\x22;\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId;\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromCookie \x3d $.cookie(\x27myStore\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\t//order of setting preference\r\n\tbaseKey \x3d fromObject || fromCookie || fromURL || \x27\x27;\r\n\r\n\r\n\t//interpret baseKey into something useful\r\n\tstepValue \x3d baseKey;\r\n\r\n\t//done determining value - assign returnValue \r\n\treturnValue \x3d stepValue\r\n\r\n\t//Any further processing?\r\n\tif (returnValue \x3d\x3d\x27\x27) {\r\n\t\treturnValue \x3d \x27storeid unavailable\x27;\r\n\t}\r\n\r\n\t//handle some cases where storeId is in the URL twice or just plain odd looking.\r\n\treturnValue \x3d returnValue.toString().split(\x22,\x22)[0];\r\n\treturnValue \x3d returnValue.toString().split(\x22_\x22)[0];\r\n\r\n\treturn returnValue;\r\n})();',{pageId:6988});
s.dbe('session feature', '(function(){\r\n\tvar sessionFeatures \x3d new Array;\r\n \r\n\ttry {\r\n\t\tif (ANF.params.env.isMobile \x3d\x3d\x3d \x22true\x22) {\r\n\t\t\tsessionFeatures.push(\x27mobile\x27);\r\n\t\t}\r\n\t\tif (ANF.params.env.isMobile \x3d\x3d\x3d \x22false\x22) {\r\n\t\t\tsessionFeatures.push(\x27desktop\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif(BTanalytics.sesscam_track \x3d\x3d \x22Y\x22){\r\n\t\t\tsessionFeatures.push(\x27session cam\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif(BTanalytics.fs_track \x3d\x3d \x22Y\x22){\r\n\t\t\tsessionFeatures.push(\x27foresee\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif (BTanalytics.newVisitor \x3d\x3d \x22true\x22) {\r\n\t\t\tsessionFeatures.push(\x27calculated new\x27);\r\n\t\t}\r\n\t\tif (BTanalytics.newVisitor \x3d\x3d \x22false\x22) {\r\n\t\t\tsessionFeatures.push(\x27calculated return\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif(typeof bt_eval(\x22BTanalytics.granify.group\x22) !\x3d undefined){\r\n\t\t\tsessionFeatures.push(BTanalytics.granify.group);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif(!isPageHidden()){\r\n\t\t\tsessionFeatures.push(\x27page_visible\x27);\r\n\t\t} else {\r\n\t\t\tsessionFeatures.push(\x27page_invisible\x27);\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif($.cookie(\x27aka_bmb\x27) !\x3d null){\r\n\t\t\tsessionFeatures.push(\x27Bad Robot:\x27 + $.cookie(\x27aka_bmb\x27));\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\r\n\treturn sessionFeatures.toString();\r\n})();',{pageId:6988});
s.dbe('xseg', '(function(){\r\n\tvar xSeg \x3d \x22\x22;\r\n\ttry {\r\n\t\txSeg \x3d $.cookie(\x27xSeg\x27);\r\n\t} catch(e) {\r\n\t}\r\n\treturn xSeg;\r\n})();',{pageId:6988});
s.dbe('find in store selected store', '(function(){\n  try {\n    return JSON.parse($.cookie(\x27selectedStore\x27)).storeMapItem.storeID;\n  } catch(e) {\n  }\n})();',{pageId:6988});
s.dbe('has primary/secondary store selected', '(function() {\r\n\ttry {\r\n\t\tvar hasSIDs \x3d [];\r\n\t\t(typeof uPref.psid !\x3d \x22undefined\x22 \x26\x26 uPref.psid !\x3d \x22\x22) ? hasSIDs.push(uPref.psid) : hasSIDs.push(\x22none\x22);\r\n\t\t(typeof uPref.ssid !\x3d \x22undefined\x22 \x26\x26 uPref.ssid !\x3d \x22\x22) ? hasSIDs.push(uPref.ssid) : hasSIDs.push(\x22none\x22);\r\n\t\treturn hasSIDs.join(\x27:\x27);\r\n\t} catch(e) {\r\n\t\treturn \x22none:none\x22;\r\n\t}\r\n})();',{pageId:6988});
s.dbe('authcode', 'bt_parameter(\x27authcode\x27)',{pageId:6988});
s.dbe('sso provider', '(function(){\r\n\ttry {\r\n\t\tif (typeof BTanalytics.SSO !\x3d \x27undefined\x27) {\r\n\t\t\treturn BTanalytics.SSO;\r\n\t\t}\r\n\t} catch(e) {\r\n\t}\r\n})();',{pageId:6988});
s.dbe('trackfunctionusage', '(function(){\r\n\ttry {\r\n\t\treturn window.sessionStorage.getItem(\x27trackFunction\x27) || \x22\x22;\r\n\t} catch(e) {\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();',{pageId:6988});
s.dbe('campaign code', '(function(){\r\n\tvar cmp \x3d bt_parameter(\x27cmp\x27) || bt_parameter(\x27CMP\x27);\r\n\tif (cmp \x3d\x3d \x22\x22 \x26\x26 window.location.search.indexOf(\x27cmp\x3d\x27) \x3e -1) {\r\n\t\tcmp \x3d window.location.search.split(\x27cmp\x3d\x27)[1].split(\x27\x26\x27)[0]\r\n\t}\r\n\treturn decodeURIComponent(cmp);\r\n})();',{pageId:6988});
s.dbe('page features', '(function() {\r\n\tvar arrPageOptions\x3d [];\r\n\ttry {\r\n\t\ttry {\r\n\t\t\tif (typeof bt_eval(\x27digitalData\x27) !\x3d \x27undefined\x27) {\r\n\t\t\t\t(typeof bt_eval(\x27digitalData.page.pageKind\x27) !\x3d \x27undefined\x27 \x26\x26 digitalData.page.pageKind !\x3d \x22\x22) ? arrPageOptions.push(\x22digitalData - pageKind\x22) : arrPageOptions.push(\x22digitalData - NO pageKind\x22);\r\n\t\t\t\t(typeof bt_eval(\x27digitalData.page.pageName\x27) !\x3d \x27undefined\x27 \x26\x26 digitalData.page.pageName !\x3d \x22\x22) ? arrPageOptions.push(\x22digitalData - pageName\x22) : arrPageOptions.push(\x22digitalData - NO pageName\x22);\r\n\t\t\t} else {\r\n\t\t\t\tarrPageOptions.push(\x22digitalData - missing\x22);\r\n\t\t\t}\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif ($(\x27.addressType:visible\x27).length \x3e\t0 ) { arrPageOptions.push(\x22Access Points\x22); }\r\n\t\t} catch(e) { }\r\n\r\n\r\n\t\ttry {\r\n\t\t\tif (typeof bt_eval(\x27$LAB.script\x27) \x3d\x3d \x27function\x27) {\r\n\t\t\t\tarrPageOptions.push(\x22LAB.script available\x22);\r\n\t\t\t} else {\r\n\t\t\t\tarrPageOptions.push(\x22LAB.script missing\x22);\r\n\t\t\t}\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif ($(\x27a[data-property\x3dGLB_CLICK_COLLECT], #pickup-point-delivery-method\x27).length \x3e 0 ) { arrPageOptions.push(\x22POPinS\x22); }\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif (pageObject.pageAttrObject.cod.codEligible \x3d\x3d \x22true\x22 ) { arrPageOptions.push(\x22Cash On Delivery\x22); }\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif ((parseInt($(\x27.grid\x27).data(\x27result-limit\x27)) - parseInt($(\x27.grid\x27).data(\x27result-total\x27))) \x3c 0) { arrPageOptions.push(\x22pagination\x22); }\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif ($(\x27.apple-pay-checkout:not(\x22.apple-pay-checkout.hide\x22)\x27).length \x3e 0) { arrPageOptions.push(\x22apple pay\x22); }\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif ($(\x27.product-page-images .product-thumbnails__video-thumbnail\x27).length \x3e 0) {  arrPageOptions.push(\x27Videos on PDP\x27); }\r\n\t\t} catch(e) { }\r\n\r\n\t\ttry {\r\n\t\t\tif ($(\x27body\x27).attr(\x27data-email-first-look-eligible\x27) \x3d\x3d \x22true\x22) { arrPageOptions.push(\x27email modal true/\x27+$(\x27body\x27).attr(\x27data-email-first-look-shown\x27)); }\r\n\t\t} catch(e) { }\r\n\r\n\t} catch(e) { }\r\n\t\t\r\n\ttry {\r\n\t\treturn $.each(arrPageOptions, function(i,v){\r\n\t\t\tarrPageOptions.v;\r\n\t\t}).join(\x27;\x27);\r\n\t} catch(e)  { \r\n\t\treturn \x27$ not defined\x27; \r\n\t}\r\n\r\n})();',{pageId:6988});
s.dbe('country code', '(function () {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromCookie\x3d\x27\x27;\r\n\tvar baseKey \x3d \x27\x27;\r\n\tvar stepValue \x3d \x27\x27\r\n\tvar returnValue \x3d \x27\x27;\r\n\r\n\t//find possible values\r\n\ttry {\r\n\t\tfromURL \x3d bt_parameter(\x27storeId\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId || ANF.catalog.data.storeId;\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromCookie \x3d $.cookie(\x27myStore\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\t//order of setting preference\r\n\tbaseKey \x3d fromObject || fromURL || fromCookie || \x27\x27;\r\n\tbaseKey \x3d baseKey.toString();\r\n\tbaseKey \x3d baseKey.split(\x22,\x22)[0];\r\n\tbaseKey \x3d baseKey.split(\x22_\x22)[0];\r\n\r\n\r\n\t//interpret baseKey into something useful\r\n\tswitch (baseKey.toString()) {\r\n\t\tcase \x2711306\x27: case \x2711307\x27: case \x2711308\x27: \r\n\t\t\tstepValue \x3d \x27ca\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2719158\x27: case \x2719159\x27: case \x2719160\x27: \r\n\t\t\tstepValue \x3d \x27eu\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2716609\x27: case \x2719161\x27: case \x2719658\x27: case \x2719659\x27:\r\n\t\t\tstepValue \x3d \x27gb\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2715108\x27: case \x2716607\x27: case \x2717608\x27: \r\n\t\t\tstepValue \x3d \x27hk\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2714108\x27:\r\n\t\t\tstepValue \x3d \x27jp\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2711203\x27: case \x2711204\x27: case \x2711205\x27: case \x2714621\x27: \r\n\t\t\tstepValue \x3d \x27mx\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2720658\x27:\r\n\t\t\tstepValue \x3d \x27sg\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2710051\x27: case \x2710101\x27: case \x2710251\x27: case \x2713607\x27:  \r\n\t\t\tstepValue \x3d \x27us\x27;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tstepValue \x3d \x27country unavailable\x27;\r\n\t}\r\n\r\n\t//done determining value - assign returnValue \r\n\treturnValue \x3d stepValue\r\n\r\n\t//Any further processing?\r\n\r\n\t//Set return \r\n\treturn returnValue;\r\n})();',{pageId:6988});
s.dbe('cart total (usd)', '(function(){\r\n\ttry {\r\n\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\t\t\tif (typeof BTanalytics.cartTotal !\x3d \x27undefined\x27) {\r\n\t\t\t\treturn BTanalytics.cartTotal;\r\n\t\t\t}\r\n\t\t}\r\n\t} catch(e) {\r\n\t}\r\n})();',{pageId:6988});
s.dbe('personalization - browse list', '(function(){\n    try {\n\t\treturn window.localStorage.browseList;\n\t} catch(e) {\n\t\treturn \x22\x22;\n\t}\n})();',{pageId:6988});
s.dbe('successful login', '(function(){\r\n\ttry {\r\n\t\tif (typeof bt_eval(\x27ANF.analytics.data.loginValidationSuccess\x27) !\x3d \x27undefined\x27) {\r\n\t\t\ttry { console.log(\x27ANF.analytics.data.loginValidationSuccess \x3d\x3d true\x27) } catch(e) { }\r\n\t\t\tif (ANF.analytics.data.loginValidationSuccess \x3d\x3d \x27true\x27 || ANF.analytics.data.loginValidationSuccess \x3d\x3d true){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (BTanalytics.WCSAuth \x3d\x3d \x27true\x27 || BTanalytics.WCSAuth \x3d\x3d true) {\r\n\t\t\ttry { console.log(\x27BTanalytics.WCSAuth \x3d\x3d true\x27) }  catch(e) { }\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} catch(e) {\r\n\t}\r\n})();',{pageId:6988});
s.dbe('email recipient id', '(function() { \r\n\ttry {\r\n\t\tvar om_rid \x3d bt_parameter(\x22om_rid\x22) || bt_parameter(\x22OM_RID\x22) || window.localStorage.eid;\r\n\t\tif ( om_rid.length \x3e 0 ) { \r\n\t\t\tBTanalytics.om_rid \x3d om_rid;\r\n\t\t\ttry {\r\n\t\t\t\twindow.localStorage.eid \x3d om_rid;\r\n\t\t\t} catch(e) {\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t        try {\r\n\t\t                if (typeof BTanalytics.om_rid !\x3d \x27undefined\x27) { \r\n\t\t                        om_rid \x3d BTanalytics.om_rid; \r\n\t\t                }\r\n\t\t                if (typeof window.localStorage.eid !\x3d \x27undefined\x27) { \r\n\t\t                        om_rid \x3d window.localStorage.eid; \r\n\t\t                }\r\n\t\t        } catch(e) { \r\n\t\t\t\t//Do nothing\r\n\t\t        } \r\n\t\t}\r\n\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n\t\treturn om_rid; \r\n\t} catch(e) {\r\n\t\t//Do nothing\r\n\t}\r\n})();',{pageId:6988});
s.dbe('staging or production', '\x22Production\x22',{pageId:6991});
s.dbe('category hierarchy ids for certona', '(function(){\r\n\tvar categoryHierarchy \x3d [];\r\n\ttry {\r\n\t\tif (typeof bt_eval(\x27ANF.catalog.data.categoryHierarchyObj\x27) !\x3d \x27undefined\x27) { \r\n\t\t//Category and PDP pages\r\n\t\t\tvar thisProductsCategoryHeirarchy \x3d [];\r\n\t\t\t$.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){\r\n\t\t\t\tvar thisName \x3d v.enName || v.name\r\n\t\t\t\tthisName \x3d thisName.toLowerCase();\r\n\t\t\t\tif (thisName !\x3d \x22anf\x22 \x26\x26 thisName !\x3d \x22hol\x22 \x26\x26 thisName !\x3d \x22kids\x22) {\r\n\t\t\t\t\tthisProductsCategoryHeirarchy.push(\x27category\x27+i+\x27\x3d\x27+v.id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcategoryHierarchy.push(thisProductsCategoryHeirarchy.join(\x27\x26\x27))\r\n\t\t} else if (typeof bt_eval(\x27ANF.models.cart.orderId\x27) !\x3d \x22undefined\x22) {\r\n\t\t//Order Confirmation\r\n\t\t\t$.each( ANF.models.cart.items, function (i, v){\r\n\t\t\t\tvar thisProductsCategoryHeirarchy \x3d [];\r\n\t\t\t\t$.each( v.categoryHierarchy, function (i, v){\r\n\t\t\t\t\tvar thisName \x3d v.categoryName;\r\n\t\t\t\t\tthisName \x3d thisName.toLowerCase();\r\n\t\t\t\t\tif (thisName !\x3d \x22anf\x22 \x26\x26 thisName !\x3d \x22hol\x22 \x26\x26 thisName !\x3d \x22kids\x22) {\r\n\t\t\t\t\t\tthisProductsCategoryHeirarchy.push(\x27category\x27+i+\x27\x3d\x27+v.categoryId);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (categoryHierarchy.length \x3e 0) {\r\n\t\t\t\t\tcategoryHierarchy.push(thisProductsCategoryHeirarchy.join(\x27\x26\x27));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t} catch(e) { } \r\n\r\n\treturn categoryHierarchy.join(\x27;\x27);\r\n})();',{pageId:6988});
s.dbe('certona app id', '(function(){\r\n\tvar returnCode \x3d \x27\x27;\r\n\ttry {\r\n\t\treturnCode \x3d ANF.params.storeAttributes.certonaAppId;\r\n\t} catch(e) {}\r\n\treturn returnCode;\r\n})();',{pageId:6988});
s.dbe('exacttarget id', '(function() { \r\n\ttry {\r\n\t\tvar et_rid \x3d bt_parameter(\x27et_rid\x27);\r\n\t\tif ( et_rid.length \x3e 0 ) { \r\n\t\t\tBTanalytics.et_rid \x3d et_rid;\r\n\t\t} else {\r\n\t\t        try {\r\n\t\t                if (typeof BTanalytics.et_rid !\x3d \x27undefined\x27) { \r\n\t\t                        et_rid \x3d BTanalytics.et_rid; \r\n\t\t                }\r\n\t\t        } catch(e) { //Do nothing\r\n\t\t        } \r\n\t\t}\r\n\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n\t\treturn et_rid; \r\n\t} catch(e) {\r\n\t\t//Do nothing\r\n\t}\r\n})();',{pageId:6988});
s.events.on('quickview complete').execute('$(window).trigger(\x27brightTag.QuickViewDataComplete\x27);\r\n',{tagId:14404});
s.events.on('remove from cart').execute('(function(){\r\n\ttry {\r\n\t\tcollectionId \x3d bt_data(\x27collection id\x27)\r\n\t\tremovedShortSku \x3d bt_data(\x27product short sku\x27);\r\n\t\tremovedLongSku \x3d bt_data(\x27product long sku\x27);\r\n\t\tremovedKIC \x3d bt_data(\x27key item code\x27);\r\n\t\tremovedProductString \x3d \x27;\x27+collectionId+\x27-\x27+removedLongSku.split(\x27-\x27).slice(0,3).join(\x27-\x27)+\x27;;;;eVar37\x3d\x27+removedLongSku+\x27|eVar51\x3d\x27+removedShortSku+\x27|eVar78\x3d\x27+removedKIC;\r\n\t\r\n\t\ts.linkTrackVars\x3d\x22events,products\x22;\r\n\t\ts.linkTrackEvents \x3d \x22scRemove,scOpen\x22;\r\n\t\ts.events \x3d \x22scRemove,scOpen\x22;\r\n\t\ts.products \x3d removedProductString;\r\n\t\ts.tl(this,\x22o\x22,\x22Cart Edit Item Removed\x22);\r\n\t} catch(e) {}\r\n})();',{tagId:14404});
s.events.on('order in store - send transaction').execute('s.linkTrackVars \x3d \x22prop49\x22; \r\ns.linkTrackEvents \x3d \x22\x22; \r\ns.events \x3d \x22\x22; \r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\ns.tl(this,\x22o\x22,\x22Order In Store\x22); \r\ns.prop49 \x3d \x22\x22;',{tagId:14404});
s.events.on('sort used').execute('window.BTtrackGrid \x3d \x27sort\x27;\r\nvar trackThis \x3d true;\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22events,prop49,prop56,prop57\x22;\r\n\ts.linkTrackEvents \x3d \x22event75\x22;\r\n\ts.events \x3d \x22event75\x22; \r\n\ts.prop49 \x3d s.pageName.split(\x27:\x27).slice(-1) + \x27:sort:sort:\x27 + bt_data(\x27sort name\x27);\r\n\ts.prop49 \x3d s.prop49.toLowerCase();\r\n\ts.prop56 \x3d \x22sort\x22;\r\n\ts.prop57 \x3d bt_data(\x27sort name\x27).toLowerCase();\r\n\ts.tl(this,\x22o\x22,\x22Facet Used\x22 + bt_data(\x27sticky or grid\x27));\r\n}',{tagId:14404});
s.events.on('remove giftbox').execute('var trackProductId \x3d \x22GIFTBOX\x22;\r\n\r\nvar builtlist \x3d \x27;\x27 + trackProductId + \x27;;;\x27;\r\nbuiltlist +\x3d  \x27|event39\x3d1;\x27;\r\ns.products \x3d builtlist;\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22scRemove,event29,event39\x22;\r\ns.events \x3d \x22scRemove,event29,event39\x22;\r\ns.eVar57 \x3d \x22remove\x22;\r\ns.prop15 \x3d \x22remove\x22;\r\ns.tl(true,\x22o\x22,\x22Cart Removal\x22);',{tagId:14404});
s.events.on('filters applied - triggered').execute('bt_log(\x27filters groups\x3d\x27+bt_data(\x27filters applied - group\x27));\r\nbt_log(\x27filters values\x3d\x27+bt_data(\x27filters applied - value\x27));\r\nbt_log(\x27filters attributes\x3d\x27+bt_data(\x27filters applied - attribute\x27));\r\n\r\nvar groupsArr \x3d bt_data(\x27filters applied - group\x27).split(\x27,\x27);\r\nvar valuesArr \x3d bt_data(\x27filters applied - value\x27).split(\x27,\x27);\r\nvar attributesArr \x3d bt_data(\x27filters applied - attribute\x27).split(\x27,\x27);\r\nvar thisAttribute \x3d \x22single\x22;\r\n\r\nfor (i\x3d0;i\x3cattributesArr.length;i++) {\r\n\tif (attributesArr[i].toLowerCase().indexOf(\x27multi\x27) \x3e -1) {\r\n\t\tthisAttribute \x3d \x22multiple values\x22;\r\n\t}\r\n}\r\n\r\ns.linkTrackVars \x3d \x22events,prop6,prop49,prop56,prop57\x22;\r\ns.linkTrackEvents \x3d \x22event74\x22;\r\ns.events \x3d \x22event74\x22; \r\ns.prop49 \x3d \x27filter applied:\x27 + thisAttribute ;\r\ns.prop49 \x3d s.prop49.toLowerCase();\r\ns.prop56 \x3d groupsArr.join(\x27;\x27);\r\ns.prop57 \x3d valuesArr.join(\x27;\x27);\r\ns.tl(this,\x22o\x22,\x22Filters Applied - triggered\x22);\r\n',{tagId:14404});
s.events.on('add to wish list').execute('var trackProductId \x3d bt_data(\x27web product id\x27);\r\n\r\ns.linkTrackVars \x3d \x22events,prop15,products,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event71\x22;\r\ns.events \x3d \x22event71\x22;\r\ns.prop15 \x3d \x22add to wish list\x22;\r\ns.products \x3d \x22;\x22 + trackProductId  + \x22;;;;eVar24\x3d\x22 + bt_data(\x27product color code\x27) + \x22|eVar78\x3d\x22 + bt_data(\x27key item code\x27);\r\ns.tl(this,\x22o\x22, \x22Add to Wish List\x22);',{tagId:14404});
s.events.on('form field mismatch').execute('if (typeof BTCartState !\x3d \x22undefined\x22) {\r\n\ts.linkTrackVars \x3d \x22events,prop13\x22;\r\n\ts.linkTrackEvents \x3d \x22event33\x22;\r\n\ts.events \x3d \x22event33\x22;\r\n\ts.prop13 \x3d bt_data(\x27error message detail\x27);\r\n\ts.tl(this,\x22o\x22,\x22Form Errors\x22); \r\n}',{tagId:14404});
s.events.on('cssmodal').execute('var trackThis \x3d true;\r\n//OFF: PDPs use a lot of modals, turn them off by default, we will turn on specific modals later\r\nif (bt_data(\x27page type\x27).indexOf(\x27pdp\x27) \x3e -1) { trackThis \x3d false; }\r\n\r\n//OFF: Don\x27t capture any \x22hides\x22\r\nif (bt_data(\x27modal action - triggered\x27).toLowerCase() \x3d\x3d \x27hide\x27) { trackThis \x3d false; }\r\n\r\n//OFF: QuickView is handled in its own triggers\r\nif (bt_data(\x27modal name - triggered\x27) \x3d\x3d \x27product-quickview__modal\x27) { trackThis \x3d false; }\r\n\r\n//OFF: GWP (gift with purchase) modal has it\x27s own trigger\r\nif (bt_data(\x27modal name - triggered\x27) \x3d\x3d \x27gwpModal\x27) { trackThis \x3d false; }\r\n\r\n//ON: Show Authentication Modal\r\n//turned off 20-JUN-2018\r\n//if (bt_data(\x27modal name - triggered\x27) \x3d\x3d \x27authentication-modal\x27 \x26\x26 bt_data(\x27modal action - triggered\x27) \x3d\x3d \x27show\x27) { trackThis \x3d true; }\r\n\r\n//ON: Show Find in Store \r\nif (bt_data(\x27modal name - triggered\x27) \x3d\x3d \x27find-store-form__modal-wrapper\x27 \x26\x26 bt_data(\x27modal action - triggered\x27) \x3d\x3d \x27show\x27) { trackThis \x3d true; }\r\n\r\n//ON: Show Reserve In Store\r\nif (bt_data(\x27modal name - triggered\x27).indexOf(\x27reserve-in-store__modal\x27) \x3e -1 \x26\x26 bt_data(\x27modal action - triggered\x27) \x3d\x3d \x27show\x27) { trackThis \x3d true; }\r\n\r\n//ON: Show Shipping and Handling Details\r\nif (bt_data(\x27modal name - triggered\x27) \x3d\x3d \x27details__shipping-handling-modal\x27 \x26\x26 bt_data(\x27modal action - triggered\x27) \x3d\x3d \x27show\x27) { trackThis \x3d true; }\r\n\r\n//ON: Show Size Guide\r\nif (bt_data(\x27modal name - triggered\x27).indexOf(\x27details__size-guide-modal\x27) \x3e -1 \x26\x26 bt_data(\x27modal action - triggered\x27) \x3d\x3d \x27show\x27) { trackThis \x3d true; }\r\n\r\n//ON: Simple Returns\r\nif (bt_data(\x27modal name - triggered\x27).indexOf(\x27details__simple-returns-modal\x27) \x3e -1 \x26\x26 bt_data(\x27modal action - triggered\x27) \x3d\x3d \x27show\x27) { trackThis \x3d true; }\r\n\r\nif (trackThis) {\r\n\tvar arrLinkVars \x3d [];\r\n\tif (bt_data(\x27page type\x27).indexOf(\x27pdp\x27)\x3e-1) {\r\n\t\tarrLinkVars.push(\x22prop15\x22); \r\n\t\ts.prop15 \x3d bt_data(\x27modal name - triggered\x27).toLowerCase().split(\x27modal\x27)[0];\r\n\t}\r\n\tarrLinkVars.push(\x22prop49\x22);\r\n\ts.linkTrackEvents \x3d \x22\x22;\r\n\ts.events \x3d \x22\x22;\r\n\ts.linkTrackVars \x3d arrLinkVars.join(\x27,\x27);\r\n\r\n\ts.prop49 \x3d bt_data(\x27modal name - triggered\x27).toLowerCase() +\x27 modal:\x27+bt_data(\x27modal action - triggered\x27).toLowerCase(); \r\n\tif (trackThis) {\r\n\t\ts.tl(this,\x22o\x22,\x22cssModal Tracked in c49\x22); \r\n\t}\r\n\ts.prop49 \x3d \x22\x22;\r\n}\r\nconsole.log(\x27cssModal: trackThis\x3d\x27+trackThis+\x27, Modal Name\x3d\x27+bt_data(\x27modal name - triggered\x27)+\x27, Modal Action\x3d\x27+bt_data(\x27modal action - triggered\x27));',{tagId:14404});
s.events.on('color swatch').execute('\ttry {\r\n\t\tvar trackProductId \x3d bt_data(\x27web product id\x27);\r\n\t\tvar trackKIC \x3d \x22\x22;\r\n\t\twindow.KICcap \x3d window.KICcap || [];\r\n\t\tif (KICcap.indexOf(bt_data(\x27key item code\x27)) \x3d\x3d -1) { trackKIC \x3d \x22,event104\x22; KICcap.push(bt_data(\x27key item code\x27)); }\r\n\t\tif (trackProductId !\x3d \x22\x22) {\r\n\t\t\tif (typeof s.products !\x3d \x27undefined\x27) {\r\n\t\t\t\tif (s.products.indexOf(trackProductId) \x3d\x3d -1) {\r\n\t\t\t\t\tif (s.products.indexOf(bt_data(\x27collection id\x27)) \x3d\x3d -1) {\r\n\t\t\t\t\t\t/* New Collection and New Product */\r\n\t\t\t\t\t\t/* WebProductId not in s.products, we need to record e69 */\r\n\t\t\t\t\t\ts.linkTrackVars \x3d \x22events,products,prop15,prop23,prop39,eVar46\x22;\r\n\t\t\t\t\t\ts.linkTrackEvents \x3d \x22prodView,event11,event37,event69\x22 + trackKIC;\r\n\t\t\t\t\t\ts.events \x3d \x22prodView,event11,event37,event69\x22 + trackKIC;\r\n\t\t\t\t\t\ts.prop15 \x3d \x22swatches\x22;\r\n\t\t\t\t\t\ts.prop39 \x3d bt_data(\x27product color code\x27);\r\n\t\t\t\t\t\ts.products \x3d \x27;\x27 + trackProductId + \x27;\x27 + s.products.split(\x27;\x27).slice(2,8).join(\x27;\x27);\r\n\t\t\t\t\t\ts.products \x3d s.products.replace(\x27eVar24\x3d\x27+s.products.split(\x27eVar24\x3d\x27)[1].split(\x27|\x27)[0],\x27eVar24\x3d\x27+bt_data(\x27product color code\x27));\r\n\t\t\t\t\t\ts.products \x3d s.products.replace(\x27eVar78\x3d\x27+s.products.split(\x27eVar78\x3d\x27)[1].split(\x27|\x27)[0],\x27eVar78\x3d\x27+bt_data(\x27key item code\x27));\r\n\t\t\t\t\t\ts.tl(this,\x22o\x22,\x22Swatch Click\x22)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* WebProductId not in s.products, we need to record e69 */\r\n\t\t\t\t\t\ts.linkTrackVars \x3d \x22events,products,prop15,prop23,prop39,eVar46\x22;\r\n\t\t\t\t\t\ts.linkTrackEvents \x3d \x22prodView,event37,event69\x22 + trackKIC;\r\n\t\t\t\t\t\ts.events \x3d \x22prodView,event37,event69\x22 + trackKIC;\r\n\t\t\t\t\t\ts.prop15 \x3d \x22swatches\x22;\r\n\t\t\t\t\t\ts.prop39 \x3d bt_data(\x27product color code\x27);\r\n\t\t\t\t\t\ts.products \x3d \x27;\x27 + trackProductId + \x27;\x27 + s.products.split(\x27;\x27).slice(2,8).join(\x27;\x27);\r\n\t\t\t\t\t\ts.products \x3d s.products.replace(\x27eVar24\x3d\x27+s.products.split(\x27eVar24\x3d\x27)[1].split(\x27|\x27)[0],\x27eVar24\x3d\x27+bt_data(\x27product color code\x27));\r\n\t\t\t\t\t\ts.products \x3d s.products.replace(\x27eVar78\x3d\x27+s.products.split(\x27eVar78\x3d\x27)[1].split(\x27|\x27)[0],\x27eVar78\x3d\x27+bt_data(\x27key item code\x27));\r\n\t\t\t\t\t\ts.tl(this,\x22o\x22,\x22Swatch Click\x22)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (trackKIC !\x3d \x22\x22) {\r\n\t\t\t\t\ts.linkTrackVars \x3d \x22events,products,prop15,prop39\x22;\r\n\t\t\t\t\ts.linkTrackEvents \x3d \x22event37\x22 + trackKIC;\r\n\t\t\t\t\ts.events \x3d \x22event37\x22 + trackKIC;\r\n\t\t\t\t\ts.products \x3d \x27;\x27 + trackProductId + \x27;\x27 + s.products.split(\x27;\x27).slice(2,8).join(\x27;\x27);\r\n\t\t\t\t\ts.products \x3d s.products.replace(\x27eVar24\x3d\x27+s.products.split(\x27eVar24\x3d\x27)[1].split(\x27|\x27)[0],\x27eVar24\x3d\x27+bt_data(\x27product color code\x27));\r\n\t\t\t\t\ts.products \x3d s.products.replace(\x27eVar78\x3d\x27+s.products.split(\x27eVar78\x3d\x27)[1].split(\x27|\x27)[0],\x27eVar78\x3d\x27+bt_data(\x27key item code\x27));\r\n\t\t\t\t\ts.prop15 \x3d \x22swatches\x22;\r\n\t\t\t\t\ts.prop39 \x3d bt_data(\x27product color code\x27);\r\n\t\t\t\t\ts.tl(this,\x22o\x22,\x22Swatch Click\x22)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch(e) {\r\n\t\tbt_log(\x27error processing swatch click:\x27 + e);\r\n\t}',{tagId:14404});
s.events.on('misc product interaction - session cap').execute('var trackThis \x3d true;\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase() !\x3d \x22size chart\x22) { trackThis \x3d false; }\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27edit cart\x27) \x3e -1) { trackThis \x3d true; }\r\nif (bt_data(\x27feature + interaction type\x27) \x3d\x3d \x22zoom\x22) { trackThis \x3d true; }\r\n\r\ntrackThis \x3d trackThis \x26\x26 sessionCap(bt_data(\x27cap this element\x27), trackThis);\r\n\r\nif (trackThis) {\r\n\tif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27edit cart\x27) \x3e -1) {\r\n\t\ts.linkTrackVars \x3d \x22prop15,prop43,eVar57\x22; \r\n\t\ts.prop15 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t\ts.eVar57 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t\ts.linkTrackEvents \x3d \x22event29\x22; \r\n\t\ts.events \x3d \x22event29\x22; \r\n\t} else {\r\n\t\ts.linkTrackVars \x3d \x22prop15,prop43\x22; \r\n\t\ts.prop15 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t\ts.linkTrackEvents \x3d \x22\x22; \r\n\t\ts.events \x3d \x22\x22; \r\n\t}\r\n\ts.prop43 \x3d bt_data(\x27trigger - selector\x27);\r\n\ts.tl(this,\x22o\x22,\x22Misc Product Interaction tracked in prop15 - session capped\x22); \r\n\ts.prop15 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('check checkout completion progress').execute('if (bt_data(\x27authcode\x27) !\x3d \x22\x22 || bt_data(\x27event type\x27) \x3d\x3d \x22authorization\x22 || bt_data(\x27event type\x27) \x3d\x3d \x22repudiation\x22 || bt_data(\x27event type\x27) \x3d\x3d \x22sectionCompleted\x22) {\r\n\ttry {\r\n\t\tBTCartState.current.contactInfoSectionCompleted \x3d !!ANF.checkout.contactInfoSectionCompleted;\r\n\t\tBTCartState.current.shippingAddressMethodCompleted \x3d !!ANF.checkout.shippingMethodSectionCompleted;\r\n\t\tBTCartState.current.shippingAddressSectionCompleted \x3d !!ANF.checkout.shippingAddressSectionCompleted;\r\n\t\tBTCartState.current.paymentSectionCompleted \x3d !!ANF.checkout.paymentSectionCompleted;\r\n\r\n\t\tBTCartState.prevCurrentEvents \x3d BTCartState.currentEvents;\r\n\t\tBTCartState.prevLegacyEvents \x3d BTCartState.legacyEvents;\r\n\t\tBTCartState.pagename \x3d BTCartState.calculatePageName();\r\n\t\tBTCartState.legacyEvents \x3d BTCartState.calculateLegacyEvents();\r\n\t\tBTCartState.currentEvents \x3d BTCartState.calculateCurrentEvents();\r\n\r\n\t\tBTCartState.prevCartState \x3d BTCartState.current;\r\n\t} catch(e) {\r\n\t\tbt_log(\x27error processing updated cartState:\x27);\r\n\t}\r\n}\r\n\r\nBTCartState.newEvents \x3d BTCartState.calculateStateChangeEvents();\r\n\t\t\r\nif (BTCartState.newEvents !\x3d \x22\x22 || bt_data(\x27authcode\x27) !\x3d \x22\x22 || bt_data(\x27event type\x27) \x3d\x3d \x22authorization\x22 || bt_data(\x27event type\x27) \x3d\x3d \x22repudiation\x22 || bt_data(\x27event type\x27) \x3d\x3d \x22sectionCompleted\x22) {\r\n\t/* Clear out some s.variables that may have been set in the product view (Quick View) that we do not want to send along in a \x22page load\x22 type request */ \r\n\ts.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d s.prop68 \x3d s.eVar5 \x3d s.eVar18 \x3d s.eVar23 \x3d s.eVar28 \x3d s.eVar53 \x3d s.eVar61 \x3d s.eVar62 \x3d \x27\x27;\r\n\r\n\ts.pageName\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:checkout:\x22 + BTCartState.pagename;\r\n\ts.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\n\ts.prop1\x3ds.pageName.split(\x27:\x27).slice(0,4).join(\x27:\x27);\r\n\ts.prop2\x3ds.pageName.split(\x27:\x27).slice(0,5).join(\x27:\x27);\r\n\r\n\ts.prop23\x3dbt_data(\x27brand code\x27) + \x22:checkout:\x22 + BTCartState.pagename;\r\n\ts.prop23\x3ds.prop23.toLowerCase();\r\n\t\r\n\tif (bt_data(\x27authcode\x27) !\x3d \x22\x22) {\r\n\t\ts.eVar53 \x3d bt_data(\x27authcode\x27);\r\n\t}\r\n\r\n\tif (bt_data(\x27event type\x27) \x3d\x3d \x22authorization\x22) {\r\n\t\ts.eVar53 \x3d bt_data(\x27event data\x27);\r\n\t}\r\n\r\n\tif (bt_data(\x27event type\x27) \x3d\x3d \x22repudiation\x22) {\r\n\t\ts.pageName\x3ds.eVar46\x3ds.pageName+\x22:repudiation\x22;\r\n\t}\r\n\r\n\ts.events \x3d BTCartState.newEvents;\r\n\r\n\ts.t();\r\n\tBTanalytics.prevPage \x3d s.pageName;\r\n\tif (typeof $.cookie !\x3d \x27undefined\x27) {\r\n\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n\t}\r\n}\r\n\r\nif (bt_data(\x27event type\x27) \x3d\x3d \x22storeAvailabilityDate\x22) {\r\n\tvar todayOrNot \x3d (function(){\r\n\t\ttry {\r\n\t\t\tvar today \x3d new Date(Date());\r\n\t\t\tvar delivery \x3d new Date(parseInt(bt_data(\x27event message\x27)));\r\n\t\t\tif (delivery.toLocaleDateString() !\x3d \x22Invalid Date\x22) {\r\n\t\t\t\tif (delivery.toLocaleDateString() \x3d\x3d today.toLocaleDateString()) {\r\n\t\t\t\t\treturn \x27today\x27;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \x27not today\x27;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \x22Invalid Date:\x22 + bt_data(\x27event message\x27);\r\n\t\t} catch(e) {\r\n\t\t\treturn \x22Error Date:\x22 + bt_data(\x27event message\x27);\r\n\t\t}\r\n\t})();\r\n\r\n\ts.linkTrackEvents \x3d \x22\x22;\r\n\ts.linkTrackVars \x3d \x22prop33\x22;\r\n\ts.prop33 \x3d todayOrNot;\r\n\ts.tl(this,\x22o\x22,\x22Pick In Store Availability\x22);\r\n}',{tagId:14404});
s.events.on('filter selected store').execute('var trackThis \x3d true;\r\n\r\nif (typeof BTanalytics.scap !\x3d \x27undefined\x27) {\r\n\tif (BTanalytics.scap.indexOf(\x27filterAIS\x27) \x3e -1) {\r\n\t\ttrackThis \x3d false;\r\n\t} else {\r\n\t\tBTanalytics.scap +\x3d \x27,filterAIS\x27;\r\n\t}\r\n} else {\r\n\tBTanalytics.scap \x3d \x27filterAIS\x27;\r\n}\r\n\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22events,prop6,prop23,prop49,prop56,prop57,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22event74\x22;\r\n\ts.events \x3d \x22event74\x22; \r\n\ts.prop49 \x3d s.pageName.split(\x27:\x27).slice(-1) + \x27:\x27 + \x27filter:\x27 + bt_data(\x27facet name\x27) + \x27:\x27 + bt_data(\x27facet value\x27);\r\n\ts.prop49 \x3d s.prop49.toLowerCase();\r\n\ts.prop56 \x3d bt_data(\x27facet name\x27).toLowerCase();\r\n\ts.prop57 \x3d bt_data(\x27facet value\x27).toLowerCase();\r\n\ts.tl(this,\x22o\x22,\x22Facet Used\x22);\r\n}',{tagId:14404});
s.events.on('find in store select').execute('s.linkTrackVars \x3d \x22prop15\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events\x3d\x22\x22;\r\ns.prop15 \x3d \x22Find In Store Select\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
s.events.on('search filtered to empty').execute('s.linkTrackVars \x3d \x22prop49\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d \x22Search Results filtered to empty\x22;\r\ns.tl(this,\x22o\x22,\x22Search Results filtered to empty\x22);',{tagId:14404});
s.events.on('quickview - sold out').execute('s.linkTrackVars \x3d \x22events\x22;\r\ns.linkTrackEvents \x3d \x22event88\x22;\r\ns.events \x3d \x22event88\x22;\r\ns.tl(true,\x22o\x22,\x22QuickView - Sold Out\x22);',{tagId:14404});
s.events.on('cart notification').execute('(function() {\r\n\tbt_log(\x27notification trigger received\x27);\r\n\ttry {\r\n\t\tif (bt_data(\x27cartnotification\x27) !\x3d \x22\x22) {\r\n\t\t\ttry {\r\n\t\t\t\ts.linkTrackVars \x3d \x22prop64\x22; \r\n\t\t\t\ts.linkTrackEvents \x3d \x22\x22; \r\n\t\t\t\ts.events \x3d \x22\x22; \r\n\t\t\t\ts.prop64 \x3d bt_data(\x27cartnotification\x27).toLowerCase(); \r\n\t\t\t\ts.tl(this,\x22o\x22,\x22cartNotification\x22); \r\n\t\t\t} catch(e) { }\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ttry {\r\n\t\tif (bt_data(\x27notificationeligible\x27) !\x3d \x22\x22) {\r\n\t\t\ttry {\r\n\t\t\t\tvar eligible \x3d bt_data(\x27notificationeligible\x27) || \x22nothing\x22;\r\n\t\t\t\tvar arrEligible \x3d eligible.split(\x27,\x27);\r\n\t\t\t\tfor (i\x3d0;i \x3c arrEligible.length;i++) {\r\n\t\t\t\t\tarrEligible[i] +\x3d \x22_eligible\x22;\r\n\t\t\t\t}\r\n\t\t\t\tvar eligibleList \x3d arrEligible.toString() || \x22no_eligibility\x22;\r\n\t\r\n\t\t\t\tvar shown \x3d bt_data(\x27notificationviewed\x27) || \x22nothing\x22;\r\n\t\t\t\tvar arrShown \x3d shown.split(\x27,\x27);\r\n\t\t\t\tfor (i\x3d0;i \x3c arrShown.length;i++) {\r\n\t\t\t\t\tarrShown[i] +\x3d \x22_shown\x22;\r\n\t\t\t\t}\r\n\t\t\t\tvar shownList \x3d arrShown.toString();\r\n\t\r\n\t\t\t\ts.linkTrackVars \x3d \x22prop64\x22; \r\n\t\t\t\ts.linkTrackEvents \x3d \x22\x22; \r\n\t\t\t\ts.events \x3d \x22\x22; \r\n\t\t\t\ts.prop64 \x3d eligibleList + \x27,\x27 + shownList ;\r\n\t\t\t\ts.prop64 \x3d s.prop64.toLowerCase();\r\n\t\t\t\ts.tl(this,\x22o\x22,\x22cartNotification\x22); \r\n\t\t\t} catch(e) { }\r\n\t\t}\r\n\t} catch(e) { }\r\n})()',{tagId:14404});
s.events.on('find in store add to bag click').execute('if (typeof BTanalytics !\x3d \x22undefined\x22) {\r\n    BTanalytics.fis_atb \x3d \x22Y\x22;\r\n}\r\n\r\ns.linkTrackVars \x3d \x22prop23,eVar46\x22;\r\ns.linkTrackEvents\x3d\x22\x22;\r\ns.events\x3d\x22\x22;\r\ns.tl(this,\x22o\x22,\x22Find In Store Add To Bag click\x22);',{tagId:14404});
s.events.on('add to bag button - pdp and quickview').execute('function BTgetPrice(BTprice) {\r\n\tif (BTprice !\x3d \x27\x27 \x26\x26 typeof BTprice !\x3d \x27undefined\x27) {\r\n\t\tBTprice \x3d BTprice.toString().replace(/[^\\.\\,0-9]/g,\x27\x27)\r\n\t\tif (BTprice.length\x3e2){\r\n\t\t\tif (BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-3) + \x27.\x27 + BTprice.substring(BTprice.length-2,BTprice.length);\r\n\t\t\t} else if (BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-2) + \x27.\x27 + BTprice.substring(BTprice.length-1,BTprice.length);\r\n\t\t\t} else { \r\n\t\t\t\tBTprice \x3d BTprice.replace(/[^\\d]/g,\x27\x27);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tBTprice \x3d parseFloat(BTprice.replace(/,/g,\x27\x27)).toFixed(2);\r\n\tif (!isNaN(BTprice)) {\r\n\t\treturn BTprice;\r\n\t} else {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\n//bt_log(\x27ATB Button click\x27);\r\n    try {\r\n        /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n        BTanalytics.ATB.loadedCollectionId \x3d bt_data(\x27collection id\x27);\r\n\r\n\t/* New v18 format: Page Finding Method:Product Finding Method:Page Type */\r\n\tBTanalytics.ATB.PageFindingMethod \x3d s.prop51;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22add to bag\x22;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d BTanalytics.ATB.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n\tBTanalytics.ATB.PageType \x3d bt_data(\x27page type\x27);\r\n\r\n\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId] \x3d {};\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId \x3d BTanalytics.ATB.loadedCollectionId;\r\n\ttry {\r\n            try { \r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d QuickViewData[BTanalytics.ATB.loadedCollectionId].ProdViewType; \r\n            } catch (e) {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d BTanalytics.ATB.PageFindingMethod + \x22:\x22 + BTanalytics.ATB.ProductFindingMethod + \x22:\x22 + BTanalytics.ATB.PageType;\r\n            }\r\n\t} catch(e) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d \x22unknown atb error\x22;\r\n\t}\r\n\r\n\ttry {\r\n            try { \r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d QuickViewData[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod; \r\n            } catch (e) {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d bt_data(\x27page finding method\x27);\r\n            }\r\n\r\n\t\t/* override product finding method if Find In Store was used */\r\n\t\tif (BTanalytics.fis_atb !\x3d \x22undefined\x22) {\r\n\t\t\tif (BTanalytics.fis_atb \x3d\x3d \x22Y\x22) {\r\n\t\t\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d \x22find in store\x22;\r\n\t\t\t\tdelete BTanalytics[\x27fis_atb\x27];\r\n\t\t\t}\r\n\t\t}\r\n\t} catch(e) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d \x22unknown atb error\x22;\r\n\t}\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].colorSeq \x3d bt_data(\x27product color code\x27) || \x2201\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].kic \x3d bt_data(\x27key item code\x27) || \x22unknown-add-to-bag\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].priceFlag \x3d bt_data(\x27product price flag\x27) || \x221\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].productId \x3d bt_data(\x27product product id\x27);\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d bt_data(\x27product list price\x27) || bt_data(\x27product price\x27);\r\n\t    BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d BTgetPrice(BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice);\r\n        } catch (e) {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d \x22\x22;\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice \x3d bt_data(\x27product price\x27);\r\n\t    BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice \x3d BTgetPrice(BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice);\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d bt_data(\x27product short sku\x27);\r\n        } catch (e) {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d \x22unknown-ATB-QVPDP-click\x22\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku \x3d bt_data(\x27product long sku\x27);\r\n        } catch (e) {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku \x3d \x22unknown-ATB-QVPDP-click\x22;\r\n        }\r\n\r\n        if (BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku !\x3d \x22\x22) {\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].brandDept \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n            } catch (e) {\r\n            }\r\n\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].classNumber \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n            } catch (e) {\r\n            }\r\n\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].styleNumber \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n            } catch (e) {\r\n            }\r\n        } else {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].brandDept \x3d \x22\x22;\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].classNumber \x3d \x22\x22;\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].styleNumber \x3d \x22\x22;\r\n        }\r\n\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d \x27\x27;\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d bt_data(\x27product short sku\x27);\r\n        } catch (e) {\r\n        }\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].thumbnail \x3d bt_data(\x27product thumbnail\x27);\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].starRating \x3d bt_data(\x27product review rating\x27);\r\n\r\n        try {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].quantity \x3d \x221\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].subtotal \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice * BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].quantity;\r\n\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].webProductId \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].brandDept + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].classNumber + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].styleNumber;\r\n\r\n    } catch (e) {\r\n        bt_log(\x27ATB click for PDP and QuickViewData says: unknown error\x27);\r\n    }',{tagId:14404});
s.events.on('account personalize').execute('s.linkTrackVars \x3d \x22events,eVar69,prop9,prop28,prop49\x22;\r\ns.linkTrackEvents \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.events \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.eVar69 \x3d bt_data(\x27customer gender\x27);\r\ns.prop9 \x3d bt_data(\x27favorite categories\x27);\r\ns.prop49\x3d\x22My Account - Profile Update\x22\r\ns.tl(this,\x22o\x22,\x22My Account - Profile Update\x22);',{tagId:14404});
s.events.on('find in store attempt').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event63\x22;\r\ns.events\x3d\x22event63\x22;\r\ns.prop15 \x3d \x22Find In Store Attempt\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
s.events.on('select pickup in store').execute('$(\x27.shipping-info\x27).addClass(\x27popins-selected\x27);\r\ns.linkTrackVars \x3d \x22prop49\x22; \r\ns.linkTrackEvents \x3d \x22\x22; \r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d \x22shipping method: pickup in store\x22\r\ns.tl(this,\x22o\x22,\x22cartState Change - POPInS Selected\x22); ',{tagId:14404});
s.events.on('address autocomplete').execute('s.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d s.pageName.split(\x27:\x27).slice(-1) + \x27:autocomplete used\x27;\r\ns.tl(true,\x22o\x22,\x22Address AutoComplete\x22);',{tagId:14404});
s.events.on('minicart display').execute('try {\r\n  BTanalytics.cartTotal \x3d bt_data(\x27cart total (usd)\x27) || BTanalytics.cartTotal;\r\n  BTanalytics.cartTotal \x3d parseFloat(BTanalytics.cartTotal.replace(/[^\\d,.]/g,\x22\x22).replace(\x27,\x27,\x27\x27))\r\n  if (typeof $.cookie !\x3d \x27undefined\x27) {\r\n    $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n  }\r\n} catch(e) { }',{tagId:14404});
s.events.on('misc checkout interaction').execute('s.linkTrackEvents \x3d \x22\x22;\r\ns.linkTrackVars \x3d \x22prop49\x22;\r\ns.prop49 \x3d bt_data(\x27event type\x27) + \x27 - \x27 + bt_data(\x27event message\x27);\r\ns.tl(this,\x22o\x22,\x22Misc Checkout Interaction\x22);',{tagId:14404});
s.events.on('add giftbox').execute('try {\r\n    /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n\t/* due to duplicate collection IDs on this page, we need to use the part number (short sku) to identify which row contains the item being added */\r\n\tBTanalytics.ATB.loadedPartNumber \x3d \x27GIFTBOX\x27;\r\n\tBTanalytics.ATB.addedCollectionId \x3d \x27GIFTBOX\x27;\r\n\tBTanalytics.ATB.loadedCollectionId \x3d \x27GIFTBOX\x27;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId] \x3d {}\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].partNumber \x3d BTanalytics.ATB.loadedPartNumber;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProdViewType \x3d \x22checkout checkbox\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProductFindingMethod \x3d s.prop51;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq \x3d \x2201\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag \x3d \x221\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].productId \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId \x3d \x22GIFTBOX\x22;\r\n\t/* Key Item Number */\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].shortSku \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].selectedSize \x3d \x22GIFTBOX\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity \x3d 1;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal \x3d \x22GIFTBOX\x22;\r\n\r\n\r\n        $(window).trigger(\x27analytics.addToBagStandard\x27);\r\n} catch (e) {}',{tagId:14404});
s.events.on('misc feature track').execute('var trackThis \x3d true;\r\n\r\nif (bt_data(\x27cap this element\x27) !\x3d \x22\x22) {\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(bt_data(\x27cap this element\x27)) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,\x27 + bt_data(\x27cap this element\x27);\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap \x3d bt_data(\x27cap this element\x27);\r\n\t}\r\n}\r\n\r\n//bt_log(\x27misc feature:\x22\x27+bt_data(\x27feature + interaction type\x27).toLowerCase()+\x27\x22\x27);\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22clicked into search field\x22) { trackThis \x3d false; }\r\n//if (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22olapic social curations interaction\x22) { trackThis \x3d false; }\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22promo details link clicked\x22) { trackThis \x3d false; }\r\n//if (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22gridmixer tops:slide right\x22) { trackThis \x3d false; }\r\n//if (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22gridmixer tops:slide left\x22) { trackThis \x3d false; }\r\n//if (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22gridmixer bottoms:slide right\x22) { trackThis \x3d false; }\r\n//if (bt_data(\x27feature + interaction type\x27).toLowerCase() \x3d\x3d \x22gridmixer bottoms:slide left\x22) { trackThis \x3d false; }\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22prop43,prop49,prop58\x22;\r\n\ts.linkTrackEvents \x3d \x22\x22; \r\n\ts.events \x3d \x22\x22; \r\n\ts.prop43 \x3d bt_data(\x27trigger - selector\x27);\r\n\ts.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\tif (s.prop49.indexOf(\x27chat\x27) \x3e -1) {\r\n\t\ts.linkTrackVars +\x3d \x22,prop62\x22;\r\n\t}\r\n\r\n\ttry {\r\n\t\tif(!isPageHidden()){\r\n\t\t\ts.prop58 \x3d \x27page_visible\x27;\r\n\t\t} else {\r\n\t\t\ts.prop58 \x3d \x27page_invisible\x27;\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ts.tl(this,\x22o\x22,\x22Misc Link Tracked in c49\x22); \r\n\ts.prop49 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('gift with purchase - add to bag').execute('try {\r\n\ts.linkTrackVars \x3d \x22events,products,prop23,eVar24,eVar25,eVar37,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22scAdd,scOpen,event35,event38\x22;\r\n\r\n\ts.products \x3d bt_data(\x27gift with purchase - productsstring\x27);\r\n\r\n\ts.events\x3d\x22scAdd,scOpen,event35,event38\x22;\r\n\r\n\ts.tl(this,\x22o\x22,\x22Cart Addition GWP\x22);\r\n} catch(e) {\r\n\tthrow(\x27GWP Add To Cart says: error\x27);\r\n}',{tagId:14404});
s.events.on('quick view initiate').execute('$(window).trigger(\x27brightTag.QuickViewDataInitiate\x27);\r\n/* Quick View Initiate - runs when user clicks a quick view link */\r\n',{tagId:14404});
s.events.on('modal action').execute('if (bt_data(\x27modal action - triggered\x27).toLowerCase() !\x3d \x27close\x27 \x26\x26 bt_data(\x27modal action - triggered\x27).toLowerCase() !\x3d \x22sign up success\x22) {\r\n\ts.linkTrackVars \x3d \x22prop49\x22; \r\n\ts.linkTrackEvents \x3d \x22\x22; \r\n\ts.events \x3d \x22\x22; \r\n\ts.prop49 \x3d bt_data(\x27modal name - triggered\x27).toLowerCase() +\x27:\x27+bt_data(\x27modal action - triggered\x27).toLowerCase(); \r\n\tif (bt_data(\x27modal action attribute - triggered\x27) !\x3d \x22\x22) {\r\n\t\ts.prop49 +\x3d \x22 - \x22 + bt_data(\x27modal action attribute - triggered\x27);\r\n\t}\r\n\ts.tl(this,\x22o\x22,\x22Modal Action Tracked in c49\x22); \r\n\ts.prop49 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('feature interaction w/ icmp').execute('var trackThis \x3d true;\r\nif (bt_data(\x27cap this element\x27) !\x3d \x22\x22) {\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(bt_data(\x27cap this element\x27)) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,\x27 + bt_data(\x27cap this element\x27);\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap \x3d bt_data(\x27cap this element\x27);\r\n\t}\r\n}\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22prop3,prop31,prop49,eVar13\x22; \r\n\ts.linkTrackEvents \x3d \x22\x22; \r\n\ts.events \x3d \x22\x22; \r\n\ts.prop31 \x3d s.eVar13 \x3d bt_data(\x27campaign code\x27);\r\n\ts.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\ts.tl(this,\x22o\x22,\x22Feature Interaction w/ ICMP\x22); \r\n\ts.prop49 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('add to cart').execute('bt_log(\x27Add To Cart says: starting\x27);\r\ntry {\r\n\ts.linkTrackVars \x3d \x22events,products,prop23,eVar24,eVar25,eVar37,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22scAdd,scOpen,event35,event38\x22;\r\n\r\n\tif (typeof BTanalytics.ATB.addedCollectionId \x3d\x3d \x27undefined\x27) { BTanalytics.ATB.addedCollectionId \x3d BTanalytics.ATB.loadedCollectionId; }\r\n\tvar trackProductId \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId;\r\n\r\n\tif (bt_data(\x27country code\x27) \x3d\x3d \x22mx\x22) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal \x3d \x2211.11\x22;\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice \x3d \x2211.11\x22;\r\n\t}\r\n\r\n\ts.products\x3d\x22;\x22 + trackProductId  + \x22;;;event35\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal + \x22|event38\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity + \x22;eVar5\x3d\x22 + BTanalytics.v5 + \x22|eVar23\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag + \x22|eVar24\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq + \x22|eVar25\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice + \x22|eVar37\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku + \x22|eVar51\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].shortSku + \x22|eVar73\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].thumbnail + \x22|eVar78\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].kic;\r\n\tif (BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].starRating !\x3d\x3d \x22\x22) {\r\n\t\ts.products +\x3d \x22|eVar6\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].starRating;\r\n\t}\r\n\r\n\ts.events\x3d\x22scAdd,scOpen,event35,event38\x22;\r\n\r\n        if ((parseInt(BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal) \x3e 2000 || parseInt(BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice) \x3e 2000 ) \x26\x26 s.eVar4\x3d\x3d\x22USD\x22 ) {\r\n\t\ts.account\x3d\x22afinternal\x22;\r\n\t}\r\n\r\n\ts.tl(this,\x22o\x22,\x22Cart Addition \x22 + BTanalytics.ATB.PageType);\r\n\tdelete BTanalytics.ATB;\r\n} catch(e) {\r\n\tbt_log(\x27Add To Cart says: error\x27);\r\n}\r\nbt_log(\x27Add To Cart says: complete\x27);',{tagId:14404});
s.events.on('reserve in store click').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop15 \x3d \x22Reserve In Store Click\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
s.events.on('quickviewdata initiate').execute('/* Quick View Initiate - runs when user clicks a quick view link */\r\ndelete QuickViewData;\r\ndelete BTanalytics.ATB;\r\nQuickViewData \x3d {};\r\n\r\n/* v18 format: Page Finding Method:Product Finding Method:Page Type */\r\nQuickViewData.PageFindingMethod \x3d s.prop51;\r\nQuickViewData.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22quick view\x22;\r\nQuickViewData.PageType \x3d bt_data(\x27page type\x27);\r\n\r\n/* Recommendations - set Product Finding Method (v18) */\r\nif (bt_data(\x27product finding method for quickview initiate\x27).indexOf(\x27certona\x27) \x3e -1) {\r\n\tQuickViewData.PageFindingMethod \x3d \x27recommendations\x27;\r\n}\r\n if (bt_data(\x27product finding method for quickview initiate\x27) !\x3d \x22\x22) {\r\n\tQuickViewData.ProductFindingMethod \x3d bt_data(\x27product finding method for quickview initiate\x27);\r\n}\r\n\r\nQuickViewData.ProductFindingMethod \x3d QuickViewData.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n/* build out complete eVar18 */\r\nQuickViewData.ProdViewType \x3d QuickViewData.PageFindingMethod + \x22:\x22 + QuickViewData.ProductFindingMethod + \x22:\x22 + QuickViewData.PageType;\r\n\r\n/* Approximation of the CollectionID recorded at click time in case the item is sold out */\r\nQuickViewData.clickCollectionID \x3d (bt_data(\x27collection id\x27) \x3d\x3d \x22\x22) ? \x27unknown-\x27+QuickViewData.ProdViewType : bt_data(\x27collection id\x27);',{tagId:14404});
s.events.on('find in store error').execute('s.linkTrackEvents \x3d \x22\x22;\r\ns.linkTrackVars \x3d \x22prop13,prop23,eVar46\x22;\r\ns.prop13 \x3d \x27find in store error number \x27 + bt_data(\x27find in store error code\x27);\r\ns.tl(this,\x22o\x22,\x22Find In Store Processing Error\x22);  ',{tagId:14404});
s.events.on('certona slider').execute('if (typeof BTanalytics.capSlider \x3d\x3d \x27undefined\x27) {\r\n\ts.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\n        s.linkTrackEvents \x3d \x22\x22;\r\n        s.events \x3d \x22\x22;\r\n\ts.prop49 \x3d bt_data(\x27page type\x27) + \x27:certona slider\x27;\r\n\ts.tl(this,\x22o\x22,\x22Slider\x22);\r\n\tBTanalytics.capSlider \x3d true;\r\n}',{tagId:14404});
s.events.on('alternate payment action').execute('(function(){\r\n\tif (bt_data(\x27alternate payment action - triggered\x27) \x3d\x3d \x22click\x22) {\r\n\t\tif (bt_data(\x27alternate payment name - triggered\x27) \x3d\x3d \x22Paypal Express\x22) {\r\n\t\t\ts.linkTrackVars \x3d \x22events,prop3,prop23,eVar21,eVar46\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22scCheckout\x22;\r\n\t\t\ts.events \x3d \x22scCheckout\x22; \r\n\t\t\ts.eVar21 \x3d bt_data(\x27alternate payment name - triggered\x27);\r\n\t\t\ts.tl(this,\x22o\x22,\x22Alternate Payment Type\x22);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tBTanalytics.paypal_express \x3d \x27Y\x27;\r\n\t\t\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n\t\t\t\twindow.sessionStorage[\x27paypal_express\x27] \x3d \x27Y\x27;\r\n\t\t\t} catch(e) {}\r\n\t\t}\r\n\r\n\t\tif (bt_data(\x27alternate payment name - triggered\x27) \x3d\x3d \x22Visa Checkout\x22) {\r\n\t\t\ts.linkTrackVars \x3d \x22events,prop3,prop23,eVar21,eVar46\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22scCheckout\x22;\r\n\t\t\ts.events \x3d \x22scCheckout\x22; \r\n\t\t\ts.eVar21 \x3d bt_data(\x27alternate payment name - triggered\x27);\r\n\t\t\ts.tl(this,\x22o\x22,\x22Alternate Payment Type\x22);\r\n\t\t}\r\n\r\n\r\n\t\tif (bt_data(\x27alternate payment name - triggered\x27) \x3d\x3d \x22Apple Pay\x22) {\r\n\t\t\ts.linkTrackVars \x3d \x22events,prop3,prop23,eVar21,eVar46\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22scCheckout\x22;\r\n\t\t\ts.events \x3d \x22scCheckout\x22; \r\n\t\t\ts.eVar21 \x3d bt_data(\x27alternate payment name - triggered\x27);\r\n\t\t\ts.tl(this,\x22o\x22,\x22Alternate Payment Type\x22);\r\n\t\t}\r\n\r\n\t}\r\n})();',{tagId:14404});
s.events.on('address focus').execute('(function(){\r\n\ttrackThis \x3d false;\r\n\ttry {\r\n\t\ttrackThis \x3d (s.prop65.indexOf(\x27co\x3dGG-0\x27) \x3e -1);\r\n\t} catch(e) {\r\n\t}\r\n\r\n\ttrackThis \x3d trackThis \x26\x26 sessionCap(bt_data(\x27cap this element\x27), trackThis);\r\n\r\n\tif (trackThis) {\r\n\t\ts.linkTrackVars \x3d \x22prop43,prop49\x22;\r\n\t\ts.prop43 \x3d bt_data(\x27trigger - selector\x27);\r\n\t\ts.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t\ts.linkTrackEvents \x3d \x22\x22; \r\n\t\ts.events \x3d \x22\x22; \r\n\t\ts.tl(this,\x22o\x22,\x22AddressFocus - Session Capped tracked in prop49\x22); \r\n\t\ts.prop49 \x3d \x22\x22;\r\n\t}\r\n\r\n})();',{tagId:14404});
s.events.on('misc feature track - session cap').execute('var trackThis \x3d true;\r\ntrackThis \x3d trackThis \x26\x26 sessionCap(bt_data(\x27cap this element\x27), trackThis);\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22prop43,prop49\x22;\r\n\ts.prop43 \x3d bt_data(\x27trigger - selector\x27);\r\n\ts.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\ts.linkTrackEvents \x3d \x22\x22; \r\n\ts.events \x3d \x22\x22; \r\n\tif (s.prop49.indexOf(\x27chat\x27) \x3e -1) {\r\n\t\ts.linkTrackVars +\x3d \x27,events\x27;\r\n\t\ts.events \x3d \x22event102\x3d\x22+s.prop62;\r\n\t\ts.linkTrackEvents \x3d \x22event102\x22;\r\n\t}\r\n\ts.tl(this,\x22o\x22,\x22Misc Session Capped Feature tracked in prop49\x22); \r\n\ts.prop49 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('certona click-to-pdp').execute('try{\r\n\tBTanalytics.gridClickLoc \x3d bt_data(\x27grid product sequence\x27);\r\n\tBTanalytics.certona \x3d bt_data(\x27prodview type\x27);\r\n\tsaveBTanalytics();\r\n} catch(e) {   //Do Nothing\r\n}',{tagId:14404});
s.events.on('gift with purchase - product view').execute('s.linkTrackEvents \x3d \x22prodView,event11,event19,event37,event69,event73,event104\x22;\r\ns.events \x3d \x22prodView,event11,event19,event37,event69,event73,event104\x22;\r\ns.prop21 \x3d \x22gift with purchase\x22;\r\ns.eVar28 \x3d \x22quick shop browse\x22;\r\ns.eVar61 \x3d \x22+1\x22;\r\ns.eVar62 \x3d \x22+1\x22;\r\n\r\ns.products \x3d bt_data(\x27gift with purchase - productsstring\x27);\r\ns.tl(true, \x22o\x22, \x22GWP quickview complete\x22); ',{tagId:14404});
s.events.on('thumbnail tracking').execute('var trackThis \x3d false;\r\n\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27quickview\x27) \x3e -1) { \r\n\t//trackThis \x3d true \r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(\x27qvtn\x27) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,qvtn\x27;\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap +\x3d \x27,qvtn\x27;\r\n\t}\r\n}\r\n\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27edit\x27) \x3e -1) { \r\n\t//trackThis \x3d true\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(\x27ettn\x27) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,ettn\x27;\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap +\x3d \x27,ettn\x27;\r\n\t}\r\n}\r\n\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27pdp\x27) \x3e -1) { \r\n\ttrackThis \x3d true\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(\x27pdp\x27) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,pdp\x27;\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap +\x3d \x27,pdp\x27;\r\n\t}\r\n}\r\n\r\nif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27ugc\x27) \x3e -1) { trackThis \x3d true }\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22prop3,prop23,prop49,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22\x22; \r\n\ts.events \x3d \x22\x22; \r\n\ts.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\tif (s.prop49.indexOf(\x27chat\x27) \x3e -1) {\r\n\t\ts.linkTrackVars +\x3d \x22,prop62\x22;\r\n\t}\r\n\r\n\r\n\ts.tl(this,\x22o\x22,\x22Thumbnail Click tracking in c49\x22); \r\n\ts.prop49 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('wss payment authorization error').execute('s.linkTrackVars \x3d \x22events,prop13,\x22;\r\ns.linkTrackEvents \x3d \x22event33\x22;\r\ns.events \x3d \x22event33\x22;\r\ns.prop13 \x3d bt_data(\x27error message detail\x27);\r\ns.tl(this,\x22o\x22,\x22WSS Payment Authorization Errors\x22); ',{tagId:14404});
s.events.on('filter used').execute('window.BTtrackGrid \x3d \x27filter\x27;\r\nvar trackThis \x3d true;\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22events,prop6,prop49,prop56,prop57\x22;\r\n\ts.linkTrackEvents \x3d \x22event74\x22;\r\n\ts.events \x3d \x22event74\x22; \r\n\ts.prop49 \x3d s.pageName.split(\x27:\x27).slice(-1) + \x27:\x27 + \x27filter:\x27 + bt_data(\x27facet name\x27) + \x27:\x27 + bt_data(\x27facet value\x27);\r\n\ts.prop49 \x3d s.prop49.toLowerCase();\r\n\ts.prop56 \x3d bt_data(\x27facet name\x27).toLowerCase();\r\n\ts.prop57 \x3d bt_data(\x27facet value\x27).toLowerCase();\r\n\ts.tl(this,\x22o\x22,\x22Facet Used\x22);\r\n}',{tagId:14404});
s.events.on('search results gender select').execute('try {\r\n  BTanalytics.genderSelect\x3dbt_data(\x27search results gender select\x27);\r\n  $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n} catch(e) { }',{tagId:14404});
s.events.on('remove from minicart').execute('var trackProductId \x3d bt_data(\x27web product id\x27);\r\nif (trackProductId.toLowerCase().indexOf(\x27gift\x27) \x3e -1) trackProductId \x3d trackProductId.split(\x27-\x27)[0];\r\n\r\nvar builtlist \x3d \x27;\x27 + trackProductId+ \x27;;;\x27;\r\nbuiltlist +\x3d  \x27event72\x3d\x27 + bt_data(\x27product price\x27) + \x27|event39\x3d1;\x27;\r\nbuiltlist +\x3d  \x27eVar23\x3d\x27 + bt_data(\x27product price flag\x27) + \x27|eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar25\x3d\x27 + bt_data(\x27product list price\x27) + \x27|eVar37\x3d\x27 + bt_data(\x27product long sku\x27) + \x27|eVar51\x3d\x27 + bt_data(\x27product short sku\x27);\r\ns.products \x3d builtlist;\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.events \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.eVar57 \x3d \x22remove\x22;\r\ns.prop15 \x3d \x22remove\x22;\r\ns.tl(true,\x22o\x22,\x22Remove from Mini Cart\x22);',{tagId:14404});
s.events.on('bazaar voice interaction').execute('var trackThis \x3d true;\r\n\r\nif (bt_data(\x27cap this element\x27) !\x3d \x22\x22) {\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(bt_data(\x27cap this element\x27)) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,\x27 + bt_data(\x27cap this element\x27);\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap \x3d bt_data(\x27cap this element\x27);\r\n\t}\r\n}\r\n\r\nif (trackThis) {\r\n\ts.linkTrackVars \x3d \x22products,events,prop15,prop23,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22event78\x22;\r\n\ts.events \x3d \x22event78\x22;\r\n\ts.products \x3d \x27;\x27 + bt_data(\x27web product id\x27) + \x22;;;;eVar6\x3d\x22 + bt_data(\x27product review rating\x27);\r\n\ts.prop15 \x3d bt_data(\x27feature + interaction type\x27); \r\n\ts.tl(true,\x22o\x22,\x22Product Review\x22);\r\n}',{tagId:14404});
s.events.on('modal action - manual').execute('bt_log(\x27Modal Action - manual\x27);\r\n$(window).trigger(\x27analytics.modalAction\x27,{name:bt_data(\x27modal name - triggered\x27),action:bt_data(\x27modal action - triggered\x27)});\r\n',{tagId:14404});
s.events.on('paypal express').execute('s.linkTrackVars \x3d \x22events,prop3,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);\r\n\r\ntry {\r\n\tBTanalytics.paypal_express \x3d \x22Y\x22\r\n\tvar locPayPal \x3d \x22PayPal Express\x22;\r\n\tif (typeof $.cookie !\x3d \x27undefined\x27) { $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});}\r\n} catch(e) {\r\n}',{tagId:14404});
s.events.on('remove from wishlist').execute('try {\r\n\ts.linkTrackVars \x3d \x22events,products,prop15,prop43\x22;\r\n\ts.linkTrackEvents \x3d \x22event85\x22;\r\n\ts.events \x3d \x22event85\x22;\r\n\ts.prop15 \x3d \x22remove wishlist\x22;\r\n\ts.prop43 \x3d bt_data(\x27trigger - selector\x27);\r\n\tif (bt_data(\x27web product id\x27) !\x3d \x22\x22) {\r\n\t\ts.products \x3d \x22;\x22 + bt_data(\x27web product id\x27) + \x27;;;;eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar78\x3d\x27 + bt_data(\x27key item code\x27);\r\n\t} else if(bt_data(\x27product long sku\x27) \x3d\x3d \x22\x22) {\r\n\t\ts.products \x3d \x22;\x22 + bt_data(\x27product collection id\x27) + \x27-unknown-my-save;;;;eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar78\x3d\x27 + bt_data(\x27key item code\x27);\r\n\t} else {\r\n\t\ts.products \x3d \x22;\x22 + bt_data(\x27product collection id\x27) + \x27-\x27 + bt_data(\x27product long sku\x27).split(\x27-\x27).slice(0,3).join(\x27-\x27).toString() + \x27;;;;eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar78\x3d\x27 + bt_data(\x27key item code\x27);\r\n\t}\r\n\ts.tl(this,\x22o\x22, \x22Remove from Wish List\x22);\r\n} catch(e) {\r\n\ts.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46\x22;\r\n\ts.products \x3d \x22;noCollectionAvailable-unknown-my-save;;;;\x22;\r\n\ts.tl(true,\x22o\x22,\x22Remove from Wish List\x22);\r\n}',{tagId:14404});
s.events.on('misc product interaction').execute('var trackThis \x3d true;\r\n\r\nif (bt_data(\x27cap this element\x27) !\x3d \x22\x22) {\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(bt_data(\x27cap this element\x27)) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,\x27 + bt_data(\x27cap this element\x27);\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap \x3d bt_data(\x27cap this element\x27);\r\n\t}\r\n}\r\n\r\nif (trackThis) {\r\n\tif (bt_data(\x27feature + interaction type\x27).toLowerCase().indexOf(\x27edit cart\x27) \x3e -1) {\r\n\t\ts.linkTrackVars \x3d \x22prop15,prop43,prop58,eVar57\x22; \r\n\t\ts.prop15 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t\ts.eVar57 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t} else {\r\n\t\ts.linkTrackVars \x3d \x22prop15,prop43prop58\x22; \r\n\t\ts.prop15 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\n\t}\r\n\ttry {\r\n\t\tif(!isPageHidden()){\r\n\t\t\ts.prop58 \x3d \x27page_visible\x27;\r\n\t\t} else {\r\n\t\t\ts.prop58 \x3d \x27page_invisible\x27;\r\n\t\t}\r\n\t} catch(e) { }\r\n\r\n\ts.prop43 \x3d bt_data(\x27trigger - selector\x27);\r\n\ts.linkTrackEvents \x3d \x22\x22; \r\n\ts.events \x3d \x22\x22; \r\n\ts.tl(this,\x22o\x22,\x22Misc Product Interaction tracked in prop15\x22); \r\n\ts.prop15 \x3d \x22\x22;\r\n}',{tagId:14404});
s.events.on('navigation click').execute('BTanalytics.pageFindingMethod \x3d bt_data(\x27navigation click\x27);\r\nBTanalytics.gridClickLoc \x3d bt_data(\x27grid product sequence\x27);\r\nif (BTanalytics.pageFindingMethod.indexOf(\x27utility\x27) \x3e 0) {\r\n\tdelete BTanalytics.pCategoryHier;\r\n}\r\n\r\ndelete BTanalytics.ATB;\r\n\r\nsaveBTanalytics();',{tagId:14404});
s.events.on('search persistence').execute('try{\r\n  BTanalytics.searchTermForPDP \x3d s.eVar14;\r\n  $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n} catch(e) {}',{tagId:14404});
s.events.on('video play (triggered)').execute('(function(){\r\n\ttrackThis \x3d true;\r\n\tvidSource \x3d bt_data(\x27video src - triggered\x27).split(\x27/\x27).slice(-1).toString();\r\n\r\n\tif (vidSource \x3d\x3d \x27Navigation_110x57_hoverLoop_2x.mp4\x27) { trackThis \x3d false; }\r\n\tif (vidSource \x3d\x3d \x27Navigation_110x57_initialLoop_2x.mp4\x27) { trackThis \x3d false; }\r\n\tif (vidSource \x3d\x3d \x27Mobile_110x43_initialLoop_2x.mp4\x27) { trackThis \x3d false; }\r\n\tif (vidSource \x3d\x3d \x27Mobile_110x43_hoverLoop_2x.mp4\x27) { trackThis \x3d false; }\r\n\t\r\n\tif (trackThis) {\r\n\t\ts.linkTrackVars \x3d \x22prop49\x22;\r\n\t\ts.linkTrackEvents \x3d \x22\x22;\r\n\t\ts.events \x3d \x22\x22;\r\n\t\ts.prop49 \x3d \x22video source:\x22 + vidSource;\r\n\t\ts.tl(this,\x22o\x22,\x22Video Play\x22);\r\n\t\t//bt_log(\x27s.prop49\x3d\x27+s.prop49);\r\n\t}\r\n})();',{tagId:14404});
s.events.on('search results tab click').execute('/* Clear out some s.variables that we do not want to send along in a \x22page load\x22 type request */ \r\nif (s.pageName !\x3d s.pageName.split(\x27:\x27).slice(0,3).join(\x27:\x27) + \x22:\x22 + bt_data(\x27search results gender select\x27)) {\r\n\ts.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d s.eVar5 \x3d s.eVar18 \x3d s.eVar23 \x3d s.eVar28 \x3d s.eVar61 \x3d s.eVar62 \x3d \x27\x27;\r\n\ts.eVar64\x3ds.eVar46;\r\n\ts.prop7\x3ds.prop3;\r\n\ts.pageName\x3ds.pageName.split(\x27:\x27).slice(0,3).join(\x27:\x27) + \x22:\x22 + bt_data(\x27search results gender select\x27);\r\n\r\n\ts.prop1\x3ds.pageName.split(\x27:\x27).slice(0,4).join(\x27:\x27);\r\n\ts.prop2\x3ds.pageName.split(\x27:\x27).slice(0,5).join(\x27:\x27);\r\n\r\n\ts.prop23\x3ds.pageName.split(\x27:\x27).slice(0,1).join(\x22:\x22) +\x22:\x22 + s.pageName.split(\x27:\x27).slice(2,-1).join(\x22:\x22);\r\n\ts.prop23\x3ds.prop23.toLowerCase();\r\n\ts.eVar46\x3ds.pageName;\r\n\t\tif (parseInt(bt_data(\x27search results quantity (internal)\x27)) \x3e 0) {\r\n\t\t\ts.events \x3d \x22event91\x22;\r\n\t\t\ts.eVar14 \x3d bt_data(\x27search results keyword (internal)\x27) + \x22|\x22 + bt_data(\x27search results gender select\x27);\r\n\t\t\ts.prop24 \x3d bt_data(\x27search results quantity (internal)\x27);\r\n\t\t\ts.prop25 \x3d bt_data(\x27search results keyword (internal)\x27);\r\n\t\t} else {\r\n\t\t\ts.events \x3d \x22event92\x22;\r\n\t\t\ts.eVar14 \x3d bt_data(\x27search results keyword (internal)\x27) + \x22|\x22 + bt_data(\x27search results gender select\x27);\r\n\t\t\ts.prop24 \x3d \x22no search results\x22;\r\n\t\t\ts.prop25 \x3d bt_data(\x27search results keyword (internal)\x27);\r\n\t\t}\r\n\ts.products\x3d\x22;\x22;\r\n\ts.t();\r\n}',{tagId:14404});
s.events.on('gift card lookup').execute('s.linkTrackVars \x3d \x22prop49\x22; \r\ns.linkTrackEvents \x3d \x22\x22; \r\ns.events \x3d \x22\x22; \r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\ns.tl(this,\x22o\x22,\x22Gift Card Lookup tracked in c49\x22); \r\ns.prop49 \x3d \x22\x22;',{tagId:14404});
s.events.on('triggered ensemble view').execute('//bt_log(\x2714404: Triggered Ensemble View for \x27 + bt_data(\x27ensemble product index - triggered\x27));\r\nvar trackThis \x3d false;\r\n\r\nif (bt_data(\x27ensemble product index - triggered\x27) !\x3d \x22\x22 \x26\x26 bt_data(\x27ensemble product index - triggered\x27) !\x3d \x220\x22) {\r\n\tif (typeof BTanalytics.cap !\x3d \x27undefined\x27) {\r\n\t\tif (BTanalytics.cap.indexOf(\x27ensemble\x27+bt_data(\x27ensemble product index - triggered\x27)) \x3e -1) {\r\n\t\t\ttrackThis \x3d false;\r\n\t\t} else {\r\n\t\t\tBTanalytics.cap +\x3d \x27,\x27 + \x27ensemble\x27+bt_data(\x27ensemble product index - triggered\x27);\r\n\t\t\ttrackThis \x3d true;\r\n\t\t}\r\n\t} else {\r\n\t\tBTanalytics.cap \x3d \x27ensemble\x27+bt_data(\x27ensemble product index - triggered\x27);\r\n\t\ttrackThis \x3d true;\r\n\t}\r\n}\r\nif (trackThis) {\r\n\ttry {\r\n\r\n\t        /* Set up the object for this collection\x27s quickview */\r\n\t\tvar EnsembleView \x3d {};\r\n\t\tEnsembleView.index \x3d parseInt(bt_data(\x27ensemble product index - triggered\x27));\r\n\t\tEnsembleView.object \x3d $(\x27.product\x27)[EnsembleView.index];\r\n\t\tEnsembleView.ProdViewType \x3d s.prop51 + \x22:ensemble-view:\x22 + bt_data(\x27page type\x27);\r\n\t\tEnsembleView.collectionId \x3d $(EnsembleView.object).attr(\x27data-collection\x27);\r\n\t\tEnsembleView.keyItemCode \x3d $(EnsembleView.object).attr(\x27data-kic\x27) || \x22unknown-ensemble-kic\x22;\r\n\t\tEnsembleView.productId \x3d $(EnsembleView.object).attr(\x27data-productid\x27);\r\n\t\tEnsembleView.colorSeq \x3d $(EnsembleView.object).attr(\x27data-seq\x27);\r\n\t\tEnsembleView.priceFlag \x3d $(EnsembleView.object).find(\x27[data-price-flag]\x27).attr(\x27data-price-flag\x27);\r\n\t\tEnsembleView.offerPrice \x3d $(EnsembleView.object).find(\x27[itemprop\x3d\x22price\x22]\x27).attr(\x27content\x27);\r\n\t\tEnsembleView.modifiedLongSku \x3d $(EnsembleView.object).find(\x27option[data-seq\x3d\x22\x27 + EnsembleView.colorSeq + \x27\x22]\x27).attr(\x27data-long-sku\x27);\r\n\t\tEnsembleView.brandDept \x3d EnsembleView.modifiedLongSku.split(\x27-\x27)[0];\r\n\t\tEnsembleView.classNumber \x3d EnsembleView.modifiedLongSku.split(\x27-\x27)[1];\r\n\t\tEnsembleView.styleNumber \x3d EnsembleView.modifiedLongSku.split(\x27-\x27)[2];\r\n\t\tEnsembleView.webProductId \x3d EnsembleView.collectionId + \x27-\x27 + EnsembleView.brandDept + \x27-\x27 + EnsembleView.classNumber + \x27-\x27 + EnsembleView.styleNumber;\r\n\t\tEnsembleView.shortSku \x3d \x27\x27;\r\n\t        EnsembleView.selectedSize \x3d \x27\x27;\r\n\t\tEnsembleView.gridSequence \x3d 0;\r\n\t\tEnsembleView.productRating \x3d \x22\x22;\r\n\r\n\t        /* Assign values to SiteCat variables */\r\n\t\ts.linkTrackVars \x3d \x22events,products,prop21,eVar28,eVar39,eVar46,eVar61,eVar62\x22;\r\n\t\ts.linkTrackEvents \x3d \x22prodView,event11,event37,event69,event73,event103,event104\x22;\r\n\t\ts.events \x3d \x22prodView,event11,event37,event69,event73,event103,event104\x22;\r\n\t\ts.prop21 \x3d EnsembleView.collectionId;\r\n\t\ts.eVar5 \x3d  (bt_data(\x27category id\x27) || s.channel);\r\n\t\ts.eVar18 \x3d EnsembleView.ProdViewType || \x27unknown-ensembleview\x27;\r\n\t\ts.eVar23 \x3d EnsembleView.priceFlag;\r\n\t\ts.eVar28 \x3d bt_data(\x27prodview type\x27);\r\n\t\t/* s.eVar39 \x3d do not set here - persist from page */\r\n\t\t/* s.eVar46 \x3d do not set here - persist from page */\r\n\t\ts.eVar61 \x3d \x22+1\x22;\r\n\t\ts.eVar62 \x3d \x22+1\x22;\r\n\r\n\t\tvar trackProductId \x3d s.prop21;\r\n\t\ttrackProductId \x3d EnsembleView.webProductId;\r\n\r\n\t\t/* record the current product view so we can test against it when user changes swatch or size */\r\n\t\tBTanalytics.pView \x3d trackProductId;\r\n\r\n\t\ts.products \x3d \x22;\x22 + trackProductId  + \x27;;;;eVar6\x3d\x27 + EnsembleView.productRating + \x27|eVar5\x3d\x27 + s.eVar5 + \x27|eVar18\x3d\x27 + s.eVar18 + \x27|eVar22\x3d\x27 + EnsembleView.gridSequence + \x27|eVar23\x3d\x27 + s.eVar23 + \x27|eVar24\x3d\x27 + EnsembleView.colorSeq + \x27|eVar73\x3d\x27 + bt_data(\x27product thumbnail\x27) + \x27|eVar78\x3d\x27 + EnsembleView.keyItemCode;\r\n\r\n\t\ts.tl(true, \x22o\x22, \x22Triggered Ensemble View\x22);\r\n\t} catch (e) {\r\n\t\ts.linkTrackVars \x3d \x22\x22;\r\n\t\ts.linkTrackEvents \x3d \x22\x22;\r\n\t\ts.events \x3d \x22\x22;\r\n\t\ts.tl(true, \x22o\x22, \x22Triggered Ensemble View - Error\x22);\r\n\t}\r\n} else {\r\n}',{tagId:14404});
s.events.on('online returns').execute('s.linkTrackVars \x3d \x22prop49,prop70\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.prop70 \x3d bt_data(\x27online returns quantity - triggered\x27) + \x22;\x22 + bt_data(\x27online returns order quantity - triggered\x27) + \x22;\x22 + bt_data(\x27online returns quantity submitted - triggered\x27) + \x22;\x22 + bt_data(\x27online returns exchange quantity - triggered\x27);\r\ns.tl(this,\x22o\x22,\x22WSS Online Returns\x22);\r\n',{tagId:14404});
s.events.on('email subscription action').execute('try {\r\n\tif (bt_data(\x27email action\x27).toLowerCase() \x3d\x3d \x22subscribe\x22) {\r\n\t\ts.events \x3d \x22event30\x22;\r\n\t\ts.linkTrackEvents  \x3d \x22event30\x22;\r\n\t}\r\n\r\n\tif (bt_data(\x27email action\x27).toLowerCase() \x3d\x3d \x22unsubscribe\x22) {\r\n\t\ts.events \x3d \x22event4\x22;\r\n\t\ts.linkTrackEvents  \x3d \x22event4\x22;\r\n\t}\r\n\r\n\ts.linkTrackVars \x3d \x22events,prop49\x22;\r\n\ts.prop49 \x3d \x22email \x22 + bt_data(\x27email action\x27).toLowerCase() + \x22:\x22 + bt_data(\x27email brand\x27).toLowerCase() + \x22:\x22 + bt_data(\x27email type\x27).toLowerCase();\r\n\ts.tl(this,\x22o\x22,\x22Email Subscription Action\x22); \r\n\ts.prop49 \x3d \x22\x22;\r\n} catch(e) {}',{tagId:14404});
s.events.on('store locator search complete').execute('s.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27);\r\ns.tl(this,\x22o\x22,\x22Store Locator search results\x22);',{tagId:14404});
s.events.on('account create').execute('delete BTanalytics.WCSAcctCreate;\r\ndelete BTanalytics.WCSAuth;\r\nsaveBTanalytics();\r\n\r\ns.linkTrackVars \x3d \x22events,eVar63\x22;\r\ns.linkTrackEvents \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.events \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.eVar63 \x3d bt_data(\x27registered account id\x27);\r\ns.tl(this,\x22o\x22,\x22Account Registration\x22);',{tagId:14404});
s.events.on('reserve in store error').execute('s.linkTrackVars \x3d \x22prop15,prop49\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop15 \x3d \x22Reserve In Store Error\x22;\r\ns.prop49 \x3d \x22Reserve Error - \x22 + bt_data(\x27error message detail\x27);\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
s.events.on('add to bag button - wishlist').execute('try {\r\n    /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n\t/* due to duplicate collection IDs on this page, we need to use the part number (short sku) to identify which row contains the item being added */\r\n\tBTanalytics.ATB.addedCollectionId \x3d bt_data(\x27collection id\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId] \x3d {}\r\n\r\n\t/* New v18 format: Page Finding Method:Product Finding Method:Page Type */\r\n\tBTanalytics.ATB.PageFindingMethod \x3d s.prop51;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22no product finding method\x22;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d BTanalytics.ATB.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n\tBTanalytics.ATB.PageType \x3d bt_data(\x27page type\x27);\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProdViewType \x3d BTanalytics.ATB.PageFindingMethod + \x22:\x22 + BTanalytics.ATB.ProductFindingMethod + \x22:\x22 + BTanalytics.ATB.PageType;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq \x3d bt_data(\x27product color code\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag \x3d bt_data(\x27product price flag\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice \x3d bt_data(\x27product list price\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice \x3d bt_data(\x27product offer price\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].productId \x3d bt_data(\x27product productid\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId \x3d BTanalytics.ATB.addedCollectionId;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d bt_data(\x27product long sku\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].kic \x3d bt_data(\x27key item code\x27) || \x22unknown-wishlist-add\x22;\r\n\r\n\tif (typeof BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d\x3d \x22undefined\x22) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d \x22unknown-addtobag-wishlist\x22;\r\n\t}\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber;\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].thumbnail \x3d bt_data(\x27product thumbnail\x27);\r\n\t/* Key Item Number */\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].shortSku \x3d bt_data(\x27product short sku\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity \x3d 1;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal \x3d parseFloat(BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice) * BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity || \x22unknown\x22;\r\n        $(window).trigger(\x27analytics.addToBagStandard\x27);\r\n} catch (e) {}',{tagId:14404});
s.events.on('edit mini cart').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22event29\x22;\r\ns.events \x3d \x22event29\x22;\r\ns.eVar57 \x3d \x22edit\x22;\r\ns.prop15 \x3d \x22edit cart\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
s.events.on('payment method submit').execute('s.linkTrackVars \x3d \x22events,eVar21,eVar33\x22;\r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\nif ($(\x27#use-shipping-address-checkbox\x27).attr(\x27checked\x27) \x3d\x3d \x27checked\x27) {\r\n  s.eVar33 \x3d \x22yes\x22\r\n} else {\r\n  s.eVar33 \x3d \x22no\x22\r\n}\r\n\r\nif ($(\x27#email-signup\x27).is(\x22:checked\x22)) {\r\n\ts.events \x3d s.linkTrackEvents \x3d \x22event30,scCheckout\x22;\r\n} else {\r\n\ts.events \x3d s.linkTrackEvents \x3d \x22scCheckout\x22;\r\n}\r\n\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
s.events.on('form invalid field').execute('if (typeof BTCartState !\x3d \x22undefined\x22) {\r\n\ts.linkTrackVars \x3d \x22events,prop13\x22;\r\n\ts.linkTrackEvents \x3d \x22event33\x22;\r\n\ts.events \x3d \x22event33\x22;\r\n\ts.prop13 \x3d bt_data(\x27error message detail\x27);\r\n\ts.tl(this,\x22o\x22,\x22Form Errors\x22); \r\n}',{tagId:14404});
s.events.on('order detail lookup').execute('s.linkTrackVars \x3d \x22prop3,prop23,prop49,eVar46\x22; \r\ns.linkTrackEvents \x3d \x22\x22; \r\ns.events \x3d \x22\x22; \r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase(); \r\ns.tl(this,\x22o\x22,\x22Order Details Lookup tracked in c49\x22); \r\ns.prop49 \x3d \x22\x22;',{tagId:14404});
s.events.on('reserve in store success').execute('s.linkTrackVars \x3d \x22prop15,prop61\x22; \r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop15 \x3d \x22Reserve In Store Success\x22; \r\ns.prop61 \x3d bt_data(\x27reservation code\x27); \r\ns.tl(true,\x22o\x22,\x22Reserve In Store Success\x22);',{tagId:14404});
s.events.on('loyalty action').execute('s.linkTrackVars \x3d \x22prop3,prop23,prop49,eVar46\x22; \r\ns.linkTrackEvents \x3d \x22\x22; \r\ns.events \x3d \x22\x22; \r\ns.prop49 \x3d bt_data(\x27loyalty name - triggered\x27).toLowerCase() +\x27:\x27+bt_data(\x27loyalty action - triggered\x27).toLowerCase(); \r\ns.tl(this,\x22o\x22,\x22Loyalty Tracked in c49\x22); \r\ns.prop49 \x3d \x22\x22;\r\n',{tagId:14404});
s.events.on('error tracking').execute('s.linkTrackVars \x3d \x22events,prop13,prop49\x22;\r\ns.linkTrackEvents \x3d \x22event33\x22;\r\ns.events \x3d \x22event33\x22;\r\ns.prop13 \x3d bt_data(\x27error message detail\x27);\r\ns.prop49 \x3d bt_data(\x27error message detail\x27);\r\ns.tl(this,\x22o\x22,\x22Error Tracking\x22); ',{tagId:14404});
s.events.on('slider next/prev').execute('s.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d bt_data(\x27page type\x27) + bt_data(\x27slider next-prev image - triggered\x27);\r\ns.tl(this,\x22o\x22,\x22Slider\x22);',{tagId:14404});
s.events.on('form missing req\x27d fields').execute('if (typeof BTCartState !\x3d \x22undefined\x22 || bt_data(\x27page type\x27) \x3d\x3d \x22order confirmation\x22 || bt_data(\x27page type\x27) \x3d\x3d \x22shopping cart\x22) {\r\n\ts.linkTrackVars \x3d \x22events,prop13,prop23,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22event33\x22;\r\n\ts.events \x3d \x22event33\x22;\r\n\ts.prop13 \x3d bt_data(\x27error message detail\x27);\r\n\ts.tl(this,\x22o\x22,\x22Form Errors\x22); \r\n}',{tagId:14404});
s.events.on('promo action').execute('(function(){\r\n\tvar promoAction \x3d bt_data(\x27promo action event name\x27).toLowerCase().trim();\r\n\tvar promoCode \x3d bt_data(\x27promo action action\x27).toLowerCase().trim();\r\n\tvar promoMessage \x3d bt_data(\x27promo action message\x27).toLowerCase().trim();\r\n\r\n\tif (promoCode\x3d\x3d\x22welcome offer\x22) { return \x22\x22;}\r\n\r\n\tswitch(promoAction) {\r\n\t\tcase \x22promo attempt\x22:\r\n\t\t\tif (promoMessage !\x3d \x22\x22) { promoAction +\x3d \x22:\x22 + promoMessage;}\r\n\t\t\ts.linkTrackVars \x3d \x22events,eVar32,prop49\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22event60\x22;\r\n\t\t\ts.events \x3d \x22event60\x22;\r\n\t\t\ts.prop49 \x3d promoAction;\r\n\t\t\ts.eVar32 \x3d promoCode;\r\n\t\t\t//s.tl(true,\x22o\x22,\x22Promo Action\x22);\r\n\t\t\ts.prop49 \x3d \x22\x22;\r\n\t\t\tbreak;\r\n\t\tcase \x22promo success\x22:\r\n\t\t\tif (promoMessage !\x3d \x22\x22) { promoAction +\x3d \x22:\x22 + promoMessage;}\r\n\t\t\ts.linkTrackVars \x3d \x22events,eVar32,prop49\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22event93\x22;\r\n\t\t\ts.events \x3d \x22event93\x22;\r\n\t\t\ts.prop49 \x3d promoAction;\r\n\t\t\ts.eVar32 \x3d promoCode;\r\n\t\t\ts.tl(true,\x22o\x22,\x22Promo Action\x22);\r\n\t\t\ts.prop49 \x3d \x22\x22;\r\n\t\t\tbreak;\r\n\t\tcase \x22promo fail\x22:\r\n\t\t\tif (promoMessage !\x3d \x22\x22) { promoAction +\x3d \x22:\x22 + promoMessage;}\r\n\t\t\ts.linkTrackVars \x3d \x22events,eVar32,prop49\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22event94\x22;\r\n\t\t\ts.events \x3d \x22event94\x22;\r\n\t\t\ts.prop49 \x3d promoAction;\r\n\t\t\ts.eVar32 \x3d promoCode;\r\n\t\t\ts.tl(true,\x22o\x22,\x22Promo Action\x22);\r\n\t\t\ts.prop49 \x3d \x22\x22;\r\n\t\t\tbreak;\r\n\t\tcase \x22promo removed\x22:\r\n\t\t\tif (promoMessage !\x3d \x22\x22) { promoAction +\x3d \x22:\x22 + promoMessage;}\r\n\t\t\ts.linkTrackVars \x3d \x22events,eVar32,prop49\x22;\r\n\t\t\ts.linkTrackEvents \x3d \x22event95\x22;\r\n\t\t\ts.events \x3d \x22event95\x22;\r\n\t\t\ts.prop49 \x3d promoAction;\r\n\t\t\ts.eVar32 \x3d promoCode;\r\n\t\t\ts.tl(true,\x22o\x22,\x22Promo Action\x22);\r\n\t\t\ts.prop49 \x3d \x22\x22;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tif (promoMessage !\x3d \x22\x22) { promoAction +\x3d \x22:\x22 + promoMessage;}\r\n\t\t\ts.linkTrackVars \x3d \x22eVar32,prop49\x22;\r\n\t\t\ts.prop49 \x3d \x22unknown\x22 + promoAction;\r\n\t\t\ts.eVar32 \x3d promoCode;\r\n\t\t\ts.tl(true,\x22o\x22,\x22Promo Action\x22);\r\n\t\t\ts.prop49 \x3d \x22\x22;\r\n\t\t\tbreak;\r\n\t} \r\n})();',{tagId:14404});
s.events.on('find in store results').execute('s.linkTrackVars \x3d \x22prop15,prop23,prop34,prop47,prop48,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop15 \x3d \x22Find In Store Results\x22;\r\ns.prop34 \x3d bt_data(\x27reserve in store available\x27);\r\ns.prop47 \x3d bt_data(\x27find in store results\x27).split(\x27:\x27)[0];\r\ns.prop48 \x3d bt_data(\x27find in store results\x27).split(\x27:\x27)[1];\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
s.events.on('progressive reveal').execute('var clickVal \x3d bt_data(\x27progressive reveal - triggered\x27);\r\n\r\nif (clickVal.indexOf(\x27sso\x27) \x3e -1) {\r\n\tclickVal \x3d (clickVal \x3d\x3d \x27sso-step-0\x27) ? \x22login\x22 : clickVal;\r\n\tclickVal \x3d (clickVal \x3d\x3d \x27sso-step-1\x27) ? \x22create\x22 : clickVal;\r\n\tclickVal \x3d (clickVal \x3d\x3d \x27sso-step-2\x27) ? \x22create-step 2\x22 : clickVal;\r\n}\r\n\r\n/* Clear out some s.variables that may have been set in the product view (Quick View) that we do not want to send along in a \x22page load\x22 type request */ \r\ns.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d s.eVar5 \x3d s.eVar18 \x3d s.eVar23 \x3d s.eVar28 \x3d s.eVar61 \x3d s.eVar62 \x3d \x27\x27;\r\n\r\ns.eVar64 \x3d s.eVar46;\r\n\r\n\r\ns.pageName\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:\x22 + bt_data(\x27page type\x27) + \x22:\x22 + clickVal;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\ns.prop1\x3ds.pageName.split(\x27:\x27).slice(0,4).join(\x27:\x27);\r\ns.prop2\x3ds.pageName.split(\x27:\x27).slice(0,5).join(\x27:\x27);\r\ns.prop7 \x3d BTanalytics.prevPageType;\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27page type\x27) + \x22:\x22 + clickVal;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();\r\n\r\nBTanalytics.prevPage \x3d s.pageName;\r\nBTanalytics.prevPageType \x3d s.prop3;\r\n$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});',{tagId:14404});
s.events.on('ugc action').execute('s.linkTrackVars \x3d \x22prop49\x22; \r\ns.linkTrackEvents \x3d \x22\x22; \r\ns.events \x3d \x22\x22; \r\ns.prop49 \x3d bt_data(\x27ugc action\x27); \r\ns.tl(this,\x22o\x22,\x22UGC Action\x22); \r\ns.prop49 \x3d \x22\x22;',{tagId:14404});
s.events.on('wss payment authorization success').execute('s.linkTrackVars \x3d \x22prop49\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d bt_data(\x27authcode\x27);\r\ns.tl(this,\x22o\x22,\x22WSS Payment Authorization\x22);',{tagId:14404});
s.events.on('quickviewdata complete').execute('//QuickView\r\nbt_log(\x2714404: QuickView Complete\x27);\r\nif (bt_data(\x27boolean\x27) \x3d\x3d \x27true\x27) {\r\n    try {\r\n\tif ($(\x27#soldout-wrap\x27).length \x3e0 || $(\x27.product--sold-out\x27).length \x3e 0 || $(\x27.product-quickview__sold-out\x27).length \x3e 0){\r\n\t\tthrow(e);\r\n\t}\r\n\r\n        /* Set up the object for this collection\x27s quickview */\r\n        QuickViewData.loadedCollectionId \x3d bt_data(\x27collection id\x27);\r\n        QuickViewData[QuickViewData.loadedCollectionId] \x3d {}\r\n        QuickViewData[QuickViewData.loadedCollectionId].collectionId \x3d QuickViewData.loadedCollectionId;\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].ProdViewType \x3d QuickViewData.ProdViewType;\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].productId \x3d bt_data(\x27product productid\x27);\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].KIC \x3d bt_data(\x27key item code\x27);\r\n\tvar trackKIC \x3d \x22\x22;\r\n\twindow.KICcap \x3d window.KICcap || [];\r\n\tif (KICcap.indexOf(bt_data(\x27key item code\x27)) \x3d\x3d -1) { trackKIC \x3d \x22,event104\x22; KICcap.push(bt_data(\x27key item code\x27)); }\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].colorSeq \x3d bt_data(\x27product color code\x27);\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].priceFlag \x3d bt_data(\x27product price flag\x27);\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].listPrice \x3d bt_data(\x27product list price\x27);\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].offerPrice \x3d bt_data(\x27product price\x27);\r\n\r\n\t/* Do not trust the price input field during add to bag - store the list and offer prices to use for ATB events */\r\n\tQuickViewData.listPrice \x3d QuickViewData[QuickViewData.loadedCollectionId].listPrice;\r\n\tQuickViewData.offerPrice \x3d QuickViewData[QuickViewData.loadedCollectionId].offerPrice;\r\n        QuickViewData[QuickViewData.loadedCollectionId].modifiedLongSku \x3d bt_data(\x27product long sku\x27) || \x27unknown-quickview-longSku\x27;\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].brandDept \x3d QuickViewData[QuickViewData.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].classNumber \x3d QuickViewData[QuickViewData.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].styleNumber \x3d QuickViewData[QuickViewData.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].webProductId \x3d QuickViewData[QuickViewData.loadedCollectionId].collectionId + \x27-\x27 + QuickViewData[QuickViewData.loadedCollectionId].brandDept + \x27-\x27 + QuickViewData[QuickViewData.loadedCollectionId].classNumber + \x27-\x27 + QuickViewData[QuickViewData.loadedCollectionId].styleNumber;\r\n\r\n        QuickViewData[QuickViewData.loadedCollectionId].shortSku \x3d \x27\x27;\r\n        QuickViewData[QuickViewData.loadedCollectionId].selectedSize \x3d \x27\x27;\r\n\tQuickViewData[QuickViewData.loadedCollectionId].gridSequence \x3d bt_data(\x27grid product sequence\x27) || 0;\r\n\tQuickViewData[QuickViewData.loadedCollectionId].productRating \x3d bt_data(\x27product review rating\x27) || \x22\x22;\r\n\r\n\r\n        /* Assign values to SiteCat variables */\r\n\ts.linkTrackVars \x3d \x22events,products,prop23,eVar28,eVar39,eVar46,eVar61,eVar62\x22;\r\n\ts.linkTrackEvents \x3d \x22prodView,event11,event19,event37,event69,event73\x22 + trackKIC;\r\n\ts.events \x3d \x22prodView,event11,event19,event37,event69,event73\x22 + trackKIC;\r\n\tif (bt_data(\x27product finding method for quickview initiate\x27) \x3d\x3d \x22ensemble carousel\x22) { \r\n\t\ts.linkTrackEvents \x3d s.linkTrackEvents.replace(\x27,event19\x27,\x27\x27);\r\n\t\ts.events \x3d s.events.replace(\x27,event19\x27,\x27\x27);\r\n\t}\r\n\ts.eVar5 \x3d  (bt_data(\x27category id\x27) || s.channel);\r\n\ts.eVar18 \x3d QuickViewData[QuickViewData.loadedCollectionId].ProdViewType || \x27unknown-quickview\x27;\r\n\ts.eVar23 \x3d QuickViewData[QuickViewData.loadedCollectionId].priceFlag;\r\n\ts.eVar28 \x3d bt_data(\x27prodview type\x27);\r\n\t/* s.eVar39 \x3d do not set here - persist from page */\r\n\t/* s.eVar46 \x3d do not set here - persist from page */\r\n\ts.eVar61 \x3d \x22+1\x22;\r\n\ts.eVar62 \x3d \x22+1\x22;\r\n\ts.eVar78 \x3d QuickViewData[QuickViewData.loadedCollectionId].KIC;\r\n\r\n\tvar trackProductId \x3d QuickViewData[QuickViewData.loadedCollectionId].webProductId;\r\n\r\n\t/* record the current product view so we can test against it when user changes swatch or size */\r\n\tBTanalytics.pView \x3d trackProductId;\r\n\r\n\ts.products \x3d \x22;\x22 + trackProductId  + \x27;;;;eVar6\x3d\x27 + QuickViewData[QuickViewData.loadedCollectionId].productRating + \x27|eVar5\x3d\x27 + s.eVar5 + \x27|eVar23\x3d\x27 + s.eVar23 + \x27|eVar18\x3d\x27 + s.eVar18 + \x27|eVar22\x3d\x27 + QuickViewData[QuickViewData.loadedCollectionId].gridSequence + \x27|eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar73\x3d\x27 + bt_data(\x27product thumbnail\x27) + \x27|eVar78\x3d\x27 + s.eVar78;\r\n\r\n        /* s.tl(true, \x22o\x22, \x22Quickshop Product View\x22); */\r\n\ts.tl(true, \x22o\x22, bt_data(\x27prodview type\x27) + \x22 complete - quickviewdata\x22); \r\n        $(window).trigger(\x27brightTag.ANFPersonalizationCategoryBrowse\x27);\r\n        /* delete the click-events to guarantee we don\x27t cookie or re-use these values */\r\n        /* we will save the collection-specific values in case the user adds the product to their shopping cart */\r\n\tdelete QuickViewData.PageFindingMethod;\r\n        delete QuickViewData.ProductFindingMethod;\r\n        delete QuickViewData.ProdViewType;\r\n        delete QuickViewData.PageType;\r\n        delete QuickViewData.loadedCollectionId;\r\n\r\n    } catch (e) {\r\n\tif ($(\x27#soldout-wrap\x27).length \x3e0 || $(\x27.product--sold-out\x27).length \x3e 0 || $(\x27.product-quickview__sold-out\x27).length \x3e 0){\r\n            /* Sold Out */\r\n            QuickViewData.loadedCollectionId \x3d QuickViewData.clickCollectionID;\r\n            QuickViewData[QuickViewData.loadedCollectionId] \x3d {}\r\n            QuickViewData[QuickViewData.loadedCollectionId].collectionId \x3d QuickViewData.clickCollectionID;\r\n            QuickViewData[QuickViewData.loadedCollectionId].ProdViewType \x3d QuickViewData.ProdViewType;\r\n            QuickViewData[QuickViewData.loadedCollectionId].ProductFindingMethod \x3d QuickViewData.ProductFindingMethod;\r\n            $(window).trigger(\x27soldout-quickview\x27);\r\n        } else {\r\n            s.linkTrackVars \x3d \x22\x22;\r\n            s.linkTrackEvents \x3d \x22\x22;\r\n            s.events \x3d \x22\x22;\r\n            s.tl(true, \x22o\x22, bt_data(\x27prodview type\x27) + \x22 Complete Error - quickviewdata\x22);\r\n        }\r\n    }\r\n} else {\r\n\tif ($(\x27#soldout-wrap\x27).length \x3e0 || $(\x27.product--sold-out\x27).length \x3e 0 || $(\x27.product-quickview__sold-out\x27).length \x3e 0){\r\n\t\t$(window).trigger(\x27soldout-quickview\x27);\r\n\t}\r\n}',{tagId:14404});
s.events.on('recommendations click').execute('bt_log(\x27rec click with \x27 + bt_data(\x27product finding method for quickview initiate\x27));\r\nif (bt_data(\x27recommendations action - triggered\x27) \x3d\x3d \x22quickview\x22) {\r\n\t$(window).trigger(\x27brightTag.QuickViewDataInitiate\x27);\r\n}',{tagId:14404});
s.events.on('quickview - sold out').execute('try {\r\n\tvar resx \x3d new Object();\r\n\tresx.appid    \t\x3d bt_data(\x27certona app id\x27);\r\n\tresx.customerid\t\x3d bt_data(\x27sitecatalyst visitor id\x27);\r\n\tresx.event\t\x3d \x22quickview\x22;\r\n\tresx.itemid\t\x3d bt_data(\x27key item code\x27);\r\n\tresx.links\t\x3d bt_data(\x27key item code - delimited (;)\x27);\r\n\tresx.rrqs\t\x3d bt_data(\x27category hierarchy ids for certona\x27);\r\n\tresx.cv1\t\x3d bt_data(\x27email recipient id\x27);\r\n\tresx.cv2\t\x3d bt_data(\x27exacttarget id\x27);\r\n\tresx.rrec\t\x3d true;\r\n\tresx.rrelem    \t\x3d \x22soldoutqv_rr\x22;\r\n\tresx.rrnum  \t\x3d 4;\r\n\r\n\t/* switch to the staging environment for testing */\r\n\tif ( bt_data(\x27staging or production\x27) \x3d\x3d \x27Staging\x27) { resx.host \x3d \x22qa.res-x.com\x22; }  \r\n\t\r\n\t/* if we are requesting recommendations, hand it off to IT */\r\n\tif (resx.rrec) {\r\n\t\tANF_helper.recommendations.init(); \r\n\t\t//bt_log(\x27Certona Recos - using ANF_helper.recommendations.init()\x27);\r\n\t} else {\r\n\t\tcertonaResx.run();\r\n\t}\r\n} catch(e) {\r\n\tthrow(\x27error during Search Filtered to Empty\x27);\r\n}',{tagId:6353281});
s.events.on('search filtered to empty').execute('try {\r\n    var resx \x3d new Object();\r\n    resx.appid    \t\x3d bt_data(\x27certona app id\x27);\r\n    resx.customerid\t\x3d bt_data(\x27sitecatalyst visitor id\x27);\r\n    resx.event\t\t\x3d \x22\x22;\r\n    resx.itemid\t\t\x3d \x22\x22;\r\n    resx.links\t\t\x3d bt_data(\x27key item code - delimited (;)\x27);\r\n    resx.rrqs\t\t\x3d bt_data(\x27category hierarchy ids for certona\x27);\r\n    resx.cv1\t\t\x3d bt_data(\x27email recipient id\x27);\r\n    resx.cv2\t\t\x3d bt_data(\x27exacttarget id\x27);\r\n    resx.rrec\t\t\x3d true;\r\n    resx.rrelem    \t\x3d \x22nosearch_rr\x22;\r\n    resx.rrnum  \t\x3d 4;\r\n\r\n    /* switch to the staging environment for testing */\r\n    if ( bt_data(\x27staging or production\x27) \x3d\x3d \x27Staging\x27) { resx.host \x3d \x22qa.res-x.com\x22; }  \r\n\t\r\n    /* if we are requesting recommendations, hand it off to IT */\r\n    if (resx.rrec) {\r\n        ANF_helper.recommendations.init(); \r\n        //bt_log(\x27Certona Recos - using ANF_helper.recommendations.init()\x27);\r\n    } else {\r\n        certonaResx.run();\r\n    }\r\n} catch(e) {\r\n\tthrow(\x27error during Search Filtered to Empty\x27);\r\n}',{tagId:6353281});
s.events.on('add to wish list').execute('try {\r\n\tresx.event  \x3d \x27wishlist_op\x27;\r\n\t//Need way to detect save of a recommendation to change this to \x27wishlist_opr\x27\r\n\tresx.itemid \x3d bt_data(\x27key item code\x27);\r\n\tresx.event \x3d \x22\x22;\r\n} catch(e) {\r\n}',{tagId:6353281});
s.events.on('add to cart').execute('try {\r\n\tresx.itemid \x3d bt_data(\x27key item code\x27);\r\n\tresx.event \x3d \x22addtocart_op\x22;\r\n\tif (bt_data(\x27collection ids - delimited (;)\x27).indexOf(bt_data(\x27collection id\x27)) \x3d\x3d -1) {\r\n\t\t/* item not in the page\x27s original list, but this helps on PDP pages */\r\n\t\tif (bt_data(\x27product finding method for quickview initiate\x27).indexOf(\x27certona\x27) \x3e -1) {\r\n\t\t\t/* the last item with a new product view was from a recommendation */\r\n\t\t\tresx.event \x3d \x27addtocart_opr\x27;\r\n\t\t}\r\n\t}\r\n\tcertonaResx.run();\r\n} catch(e) {\r\n}',{tagId:6353281});
s.events.on('quickview complete').execute('try {\r\n\tif (rrelemBase \x3d\x3d \x27product\x27 || rrelemBase \x3d\x3d \x27nosearch\x27 ) {\r\n\t\tresx.event \x3d \x22quickview_opr\x22;\r\n\t} else {\r\n\t\tresx.event \x3d \x22quickview_op\x22;\r\n\t}\r\n\tresx.itemid \x3d bt_data(\x27key item code\x27);\r\n\tresx.pageid \x3d \x22\x22;\r\n\tcertonaResx.run();\r\n} catch(e) {\r\n}',{tagId:6353281});
s.domready(function(){
s.tag('\x3cscript src\x3d\x22//s.btstatic.com/lib/20575de76c142fcc4737f07075e290cc962c4107.js?v\x3d2\x22\x3e\x3c/script\x3e\n\x3cscript type\x3d\x22text/javascript\x22\x3e\ntry {\n\tif (typeof BTanalytics \x3d\x3d \x27undefined\x27) { var BTanalytics \x3d {}; }\n\tvar pCat \x3d \x22:\x22 + \x22'+s.data('sitecatalyst page path')+'\x22.split(\x22:\x22)[1] || \x22\x22;\n\tvar subpCat \x3d (\x22'+s.data('sitecatalyst page path')+'\x22.split(\x22:\x22).length \x3e 2 ) ? \x22:\x22 + \x22'+s.data('sitecatalyst page path')+'\x22.split(\x22:\x22)[2] : \x22\x22;\n\tvar tertiaryCat \x3d (\x22'+s.data('sitecatalyst page path')+'\x22.split(\x22:\x22).length \x3e 3 ) ? \x22:\x22 + \x22'+s.data('sitecatalyst page path')+'\x22.split(\x22:\x22)[3] : \x22\x22;\n\tvar repudiation \x3d ($(\x27div.repudiation\x27).length \x3e 0) ? \x22:repudiation\x22 : \x22\x22;\n\tvar soldout \x3d ($(\x27#soldout-wrap\x27).length \x3e 0 || $(\x27.product--sold-out\x27).length \x3e 0 || $(\x27.product-price-v2__price--sold-out\x27).length \x3e 0 ) ? \x22:soldout\x22 : \x22\x22;\n\tif (\x22'+s.data('page type')+'\x22.toLowerCase().indexOf(\x27pdp\x27) \x3d\x3d -1) { soldout \x3d \x22\x22; }\n\twindow.KICcap \x3d window.KICcap || [];\n\n\t/* Standard Variables */\n\ts.currencyCode \x3d \x27'+s.data('currency code')+'\x27;\n\ts.pageName \x3d \x22'+s.data('brand code')+'\x22 + \x22:\x22 + \x22'+s.data('country code')+'\x22 + \x22'+s.data('sitecatalyst page path')+'\x22 + repudiation + soldout;\n\n\t//giftguide pagename adjustments\n\tif (bt_parameter(\x27minPrice\x27) !\x3d \x22\x22 \x26\x26 bt_parameter(\x27maxPrice\x27) !\x3d \x22\x22) {s.pageName +\x3d \x22:\x22 + bt_parameter(\x27minPrice\x27) + \x22-\x22 + bt_parameter(\x27maxPrice\x27);}\n\tif (bt_parameter(\x27minPrice\x27) !\x3d \x22\x22 \x26\x26 bt_parameter(\x27maxPrice\x27) \x3d\x3d \x22\x22) {s.pageName +\x3d \x22:\x22 + bt_parameter(\x27minPrice\x27) + \x22+\x22;}\n\n\ts.pageName \x3d s.pageName.toLowerCase();\n\ts.channel \x3d \x22'+s.data('brand code')+'\x22 + \x22:\x22 + \x22'+s.data('country code')+'\x22 + pCat + soldout;\n\ts.channel \x3d s.channel.toLowerCase();\n\ts.prevPage \x3d BTanalytics.prevPage;\n\ts.purchaseID \x3d \x22'+s.data('purchase id')+'\x22;\n\ts.state\x3d\x22'+s.data('shipping state')+'\x22;\n\ts.firstPageHit \x3d \x22'+s.data('first page hit indicator')+'\x22;\n\n\t/* EVENTS */\n\tBTanalytics.events \x3d BTanalytics.events || [];\n\tfor (i\x3d0;i\x3c\x22'+s.data('sitecatalyst page event')+'\x22.split(\x27,\x27).length;i++) {\n\t\tBTanalytics.events.push(\x22'+s.data('sitecatalyst page event')+'\x22.split(\x27,\x27)[i]);\n\t}\n\tfor (i\x3d0;i\x3c\x22'+s.data('sitecatalyst page level events')+'\x22.split(\x27,\x27).length;i++) {\n\t\tBTanalytics.events.push(\x22'+s.data('sitecatalyst page level events')+'\x22.split(\x27,\x27)[i]);\n\t}\n\t\n\tif (bt_parameter(\x27FoundBy\x27) !\x3d \x22\x22) {\n\t\tif (bt_parameter(\x27FoundBy\x27) !\x3d BTanalytics.searchTerm) {\n\t\t\tBTanalytics.events.push(\x27event1\x27);\n\t\t\tBTanalytics.searchTerm \x3d bt_parameter(\x27FoundBy\x27);\n\t\t\tBTanalytics.searchEvent \x3d \x27true\x27;\n\t\t}\n\t}\n\n\tif (bt_parameter(\x27search-field\x27) !\x3d \x22\x22 \x26\x26 \x22'+s.data('page type')+'\x22 !\x3d \x22search\x22) {\n\t\tif (bt_parameter(\x27search-field\x27) !\x3d BTanalytics.searchTerm \x26\x26 bt_parameter(\x27search-field\x27) !\x3d \x22*\x22) {\n\t\t\tBTanalytics.events.push(\x27event1\x27);\n\t\t\tBTanalytics.searchTerm \x3d bt_parameter(\x27search-field\x27);\n\t\t\tBTanalytics.searchEvent \x3d \x27true\x27;\n\t\t}\n\t}\n\n\t/* Social Sign On and \x22Almost Done\x22 */\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) {\n\t\tif (\x22'+s.data('sso provider')+'\x22 !\x3d \x22\x22) {\n\t\t\tBTanalytics.events.push(\x27event65\x27);\n\t\t\ts.prop50 \x3d \x22'+s.data('sso provider')+'\x22;\n\t\t\tif ($(\x27.sso-almost-done\x27).is(\x22:visible\x22) || $(\x27.sso-almost-done--v2\x27).is(\x22:visible\x22)){\n\t\t\t\tBTanalytics.events.push(\x27event66\x27);\n\t\t\t\ts.pageName +\x3d \x22:almost done\x22;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Begin Login Stuff */\n\tif (BTanalytics.events.indexOf(\x27event65\x27) \x3e -1) { BTanalytics.socialAuth \x3d \x27true\x27;}\n\tif (\x22'+s.data('successful login')+'\x22 \x3d\x3d \x22true\x22) { BTanalytics.events.push(\x27event17\x27); }\n\tif (\x22'+s.data('successful account create')+'\x22 \x3d\x3d \x22true\x22) { BTanalytics.events.push(\x27event5\x27);BTanalytics.events.push(\x27event17\x27); }\n\tif (BTanalytics.events.indexOf(\x27event17\x27) \x3e -1 \x26\x26 BTanalytics.socialAuth \x3d\x3d \x27true\x27) { BTanalytics.events.push(\x27event83\x27); }\n\tif (BTanalytics.events.indexOf(\x27event5\x27) \x3e -1 \x26\x26 BTanalytics.socialAuth \x3d\x3d \x27true\x27) { BTanalytics.events.push(\x27event84\x27); }\n\t/* End Login Stuff */\n  \n\tif (\x22'+s.data('page error message')+'\x22 !\x3d \x22\x22) { BTanalytics.events.push(\x27event33\x27); }\n\tif (BTanalytics.sessionsync \x3d\x3d \x27true\x27) { BTanalytics.events.push(\x27event82\x27); }\n\tif (typeof BTanalytics.prevCurrency !\x3d \x22undefined\x22) {\n\t\tif (BTanalytics.prevCurrency !\x3d BTanalytics.currency) { BTanalytics.events.push(\x27event86\x27); }\n\t}\n\n\tif (typeof BTanalytics.prevLang !\x3d \x22undefined\x22) {\n\t\tif (BTanalytics.prevLang !\x3d BTanalytics.curLang) { BTanalytics.events.push(\x27event101\x27); }\n\t}\n\n  \n\t/* PROPS */\n\ts.prop1 \x3d \x22'+s.data('brand code')+'\x22 + \x22:\x22 + \x22'+s.data('country code')+'\x22 + pCat + subpCat + soldout;\n\ts.prop1 \x3d s.prop1.toLowerCase();\n\ts.prop2 \x3d \x22'+s.data('brand code')+'\x22 + \x22:\x22 + \x22'+s.data('country code')+'\x22 + pCat + subpCat + tertiaryCat + soldout;\n\ts.prop2 \x3d s.prop2.toLowerCase();\n\ts.prop3 \x3d \x22'+s.data('brand code')+'\x22 + \x22:\x22 + \x22'+s.data('country code')+'\x22 + \x22:\x22 + \x22'+s.data('page type')+'\x22;\n\ts.prop3 \x3d s.prop3.toLowerCase();\n\ts.prop4 \x3d BTanalytics.brand \x3d \x22'+s.data('brand code')+'\x22.toLowerCase();\n\ts.prop5 \x3d \x22'+s.data('country code')+'\x22.toLowerCase();\n\ts.prop6 \x3d \x22'+s.data('category id')+'\x22 || s.channel;\n\ts.prop6 \x3d s.prop6.toLowerCase();\n\ts.prop7 \x3d BTanalytics.prevPageType;\n\ts.prop9 \x3d \x22'+s.data('number of rewards')+'\x22;\n\ts.prop10 \x3d \x22BrightTag Desktop\x22 + \x22'+s.data('brighttag version')+'\x22;\n\ts.prop13 \x3d \x22'+s.data('page error message')+'\x22;\n\ts.prop14 \x3d \x22'+s.data('content doublecheck')+'\x22;\n\ts.prop17 \x3d \x22'+s.data('language preference')+'\x22;\n\ts.prop18 \x3d \x22'+s.data('calculated gender')+'\x22;\n\ts.prop22 \x3d \x22'+s.data('optimizely indicator')+'\x22;\n\ts.prop23 \x3d \x22'+s.data('brand code')+'\x22 + \x22'+s.data('sitecatalyst page path')+'\x22 + repudiation + soldout;\n\tif ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.prop24 \x3d \x22'+s.data('search results quantity (internal)')+'\x22; } else { s.prop24 \x3d \x22\x22; }\n\tif ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.prop25 \x3d \x22'+s.data('search results keyword (internal)')+'\x22;  var setTerm \x3d s.getPreviousValue(s.prop25,\x22LastSearchTerm\x22); } else { s.prop25 \x3d \x22non-search\x22; }\n\tif ( BTanalytics.searchEvent !\x3d \x27true\x27 \x26\x26 \x22'+s.data('page type')+'\x22 \x3d\x3d \x22search\x22) { s.prop25 \x3d \x22'+s.data('search results keyword (internal)')+'\x22;}\n\ts.prop28 \x3d \x22'+s.data('personalization - browse list')+'\x22;\n\ts.prop30 \x3d  window.location.href.split(\x22/\x22).slice(2).join(\x22/\x22).split(\x22?\x22).slice(0,1).toString();\n\ts.prop31 \x3d \x22'+s.data('campaign code')+'\x22;\n\ts.prop32 \x3d $.cookie(\x27JSESSIONID\x27);\n\ts.prop34 \x3d \x22'+s.data('find in store available')+'\x22;\n\ts.prop36 \x3d \x22'+s.data('page features')+'\x22;\n\ts.prop41 \x3d document.cookie.split(\x27;\x27).length;\n\ts.prop42 \x3d BTanalytics.prevCMP || \x22\x22;\n\tBTanalytics.prevCMP \x3d \x22'+s.data('campaign code')+'\x22;\n\ts.prop44 \x3d \x22'+s.data('personalization - add list')+'\x22;\n\ts.prop45 \x3d \x22'+s.data('site language')+'\x22;\n\ts.prop46 \x3d (window.location.toString().split(\x27?\x27)[1] || \x22\x22).split(\x27\x26krypto\x27)[0];\n\tif (\x22'+s.data('find in store selected store')+'\x22 !\x3d \x22\x22) { s.prop47 \x3d \x22'+s.data('brand code')+':'+s.data('find in store selected store')+'\x22; }\n\n\ts.prop51 \x3d \x22'+s.data('page finding method')+'\x22;\n\tif (typeof BTanalytics.certona !\x3d \x22undefined\x22) { s.prop51 \x3d BTanalytics.certona.split(\x27:\x27)[0]; }\n\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22pdp\x22 || \x22'+s.data('page type')+'\x22 \x3d\x3d \x22ensemble pdp\x22) {\n\t\tif (\x22'+s.data('campaign code')+'\x22.indexOf(\x22EMM_OPR\x22) \x3d\x3d 0) { s.prop51 \x3d \x27certona-email-recos\x27; }\n\t\tif (\x22'+s.data('campaign code')+'\x22.indexOf(\x22EMM_TRG\x22) \x3d\x3d 0) { s.prop51 \x3d \x27certona-email-recos\x27; }\n\t}\n\n\ts.prop52 \x3d \x22'+s.data('browser feature support')+'\x22;\n\ts.prop53 \x3d \x22'+s.data('true resolution')+'\x22;\n\ts.prop54 \x3d \x22'+s.data('do not track indicator')+'\x22;\n\ts.prop55 \x3d \x22'+s.data('search results keyword (intended)')+'\x22;\n\ts.prop58 \x3d \x22'+s.data('session feature')+'\x22;\n\ts.prop61 \x3d \x22'+s.data('order in store transaction id')+'\x22;\n\ts.prop62 \x3d \x22'+s.data('cart items')+'\x22;\n\ts.prop63 \x3d \x22'+s.data('cart value (rounded)')+'\x22;\n\ts.prop64 \x3d \x22'+s.data('cartnotification')+'\x22;\n\ts.prop65 \x3d \x22'+s.data('xseg')+'\x22;\n\ts.prop66 \x3d \x22'+s.data('sold out quantity')+'\x22;\n\ttry {\n\t\tif (typeof BTCartState.pageProps !\x3d \x22undefined\x22) { s.prop68 \x3d BTCartState.pageProps; }\n\t} catch(e) { }\n\ts.prop69 \x3d \x22'+s.data('has primary/secondary store selected')+'\x22;\n  \n\t/* EVARS */\n\ts.eVar1 \x3d \x22'+s.data('store id')+'\x22;\n\ts.eVar2 \x3d \x22'+s.data('physical store id')+'\x22;\n\ts.eVar3 \x3d \x22'+s.data('user authentication state')+'\x22;\n\ts.eVar4 \x3d s.currencyCode;\n\ts.eVar11 \x3d $.cookie(\x27JSESSIONID\x27);\n\tif (BTanalytics.searchEvent \x3d\x3d \x27true\x27) { s.eVar14 \x3d \x22'+s.data('search results keyword with selected gender')+'\x22; } else { s.eVar14 \x3d \x22Non-Search\x22; }\n\tif (BTanalytics.searchEvent !\x3d \x27true\x27 \x26\x26 \x22'+s.data('page type')+'\x22 \x3d\x3d \x22search\x22) { s.eVar14 \x3d \x22'+s.data('search results keyword with selected gender')+'\x22; }\n\tif (typeof BTanalytics.searchTermForPDP !\x3d \x27undefined\x27) { s.eVar14 \x3d BTanalytics.searchTermForPDP;  delete BTanalytics.searchTermForPDP; }\n\tif (bt_parameter(\x27FoundBy\x27) !\x3d \x22\x22) { s.eVar14 \x3d bt_parameter(\x22FoundBy\x22); }\n\tif (s.eVar14 \x3d\x3d \x22\x22) { s.eVar14 \x3d \x22Non-Search\x22; }\n\n\tif (\x22'+s.data('customer first name')+'\x22 !\x3d \x22\x22) { s.eVar20 \x3d \x22'+s.data('customer first name')+'\x22; }\n  \n\ts.eVar21 \x3d \x22'+s.data('payment type')+'\x22;\n\tif (\x27'+s.data('visa checkout indicator')+'\x27 \x3d\x3d \x27true\x27) {\n\t\ts.eVar21 \x3d \x27visa checkout\x27;\n\t}\n  \n\ts.eVar39 \x3d (function(){\n\t\ttry {\n\t\t\tif (BTanalytics.om_rid) {\n\t\t\t\twindow.localStorage.eid \x3d BTanalytics.om_rid;\n\t\t\t}\n\t\t\treturn window.localStorage.eid;\n\t\t} catch(e) {\n\t\t\treturn \x22\x22;\n\t\t}\n\t})();\n\n\ts.eVar43 \x3d \x22'+s.data('device id')+'\x22;\n\ts.eVar52 \x3d \x22'+s.data('email campaign id')+'\x22;\n\ts.eVar53 \x3d \x22'+s.data('authcode')+'\x22;\n\ts.eVar54 \x3d \x22'+s.data('heatmap guid')+'\x22;\n\ts.eVar63 \x3d \x22'+s.data('registered account id')+'\x22;\n\ts.eVar64 \x3d BTanalytics.prevPage;\n\tif ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.eVar65 \x3d \x22+1\x22; } else { s.eVar65 \x3d \x22\x22; }\n\tif ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.eVar66 \x3d \x22+1\x22; } else { s.eVar66 \x3d \x22\x22; }\n\ts.eVar69 \x3d \x22'+s.data('customer gender')+'\x22;\n\ts.eVar71 \x3d navigator.userAgent;\n\ts.eVar72 \x3d \x22'+s.data('site language')+'\x22;\n\n\ts.list2 \x3d \x22'+s.data('trackfunctionusage')+'\x22;\n\n\t/* Product Finding Methods, etc. */\n\tBTanalytics.brand \x3d \x22'+s.data('brand code')+'\x22;\n\tBTanalytics.prodViewType \x3d \x22'+s.data('prodview type')+'\x22;\n\tBTanalytics.v5 \x3d (\x22'+s.data('category id')+'\x22 || s.channel);\n\tif (s.eVar14 !\x3d \x22Non-Search\x22) { BTanalytics.v5 \x3d \x22internal search\x22; }\n\n\t//Attribute Certona-Recommedations/RecentlyViewed Clicks\n\tvar v18_prodFindingMethod \x3d (\x22'+s.data('user generated content location')+'\x22 || \x22'+s.data('experience page name')+'\x22 || \x22page load\x22).toLowerCase().replace(\x27ugc:\x27,\x27\x27); /* remove ugc from here because it is in prop51 */\n\ttry {\n\t\t/* BTanalytics.certona \x3d \x27certona-recos:recommendations\x27; */\n\t\tif (BTanalytics.certona !\x3d \x27\x27 \x26\x26 typeof BTanalytics.certona !\x3d \x27undefined\x27) {\n\t\t\tv18_prodFindingMethod \x3d BTanalytics.certona.split(\x27:\x27)[1];\n\t\t\tdelete BTanalytics.certona;\n\t\t}\n\t} catch(e) { //Do Nothing\n\t}\n\tBTanalytics.v18 \x3d (s.prop51 + \x22:\x22 + v18_prodFindingMethod.replace(\x22:\x22,\x22-\x22) + \x22:'+s.data('page type')+'\x22) || \x27unknown-pageload\x27;\n\n\n\t/* PRODUCTS */\n\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x27pdp\x27 || \x22'+s.data('page type')+'\x22 \x3d\x3d \x22ensemble pdp\x22) {\n\t\ts.eVar61 \x3d \x27+1\x27;\n\t\ts.eVar62 \x3d \x27+1\x27;\n\t\tvar arrProducts \x3d  \x22'+s.data('collection ids, price flag, kic - delimited (;)')+'\x22.split(\x27;\x27).slice(0,1);\n\t\tvar arrThisProduct \x3d arrProducts[0].split(\x27,\x27);\n\t\tif (arrProducts !\x3d \x27\x27) {\n\t\t\t/*    Add these events to the events list (if not already present): prodView, event11, and event69 (event12 if multi-product page)*/\n\t\t\tBTanalytics.events.push(\x27prodView\x27)\n\t\t\tBTanalytics.events.push(\x27event11\x27);\n\t\t\tBTanalytics.events.push(\x27event37\x27);\n\t\t\tBTanalytics.events.push(\x27event69\x27);\n\t\t\tBTanalytics.events.push(\x27event104\x27);\n\n\t\t\ts.products \x3d (\x27;\x27+ arrThisProduct[0] + \x27;;;;eVar5\x3d\x27+BTanalytics.v5 + \x27|eVar6\x3d'+s.data('product review rating')+'|eVar18\x3d\x27+BTanalytics.v18 + \x27|eVar22\x3d'+s.data('grid product sequence')+'|eVar23\x3d\x27 + arrThisProduct[1] + \x27|eVar24\x3d'+s.data('product color code')+'|eVar73\x3d'+s.data('product thumbnail')+'|eVar78\x3d\x27 + arrThisProduct[2]);\n\t\t\ts.eVar28 \x3d \x27Product Detail Browse\x27;\n        \tif (KICcap.indexOf(arrThisProduct[2]) \x3d\x3d -1) { KICcap.push(arrThisProduct[2]); }\n\t\t\tif (\x22'+s.data('html body id')+'\x22 \x3d\x3d \x27catalog-productensemble\x27) { s.eVar28 \x3d \x27ensemble browse\x27; }\n\t\t} else {\n\t\t\tif (soldout !\x3d \x22\x22 \x26\x26 \x22'+s.data('page type')+'\x22 \x3d\x3d \x22pdp\x22) { \n\t\t\t\ts.eVar6 \x3d \x27\x27;\n\t\t\t\ts.eVar28 \x3d \x27\x27;\n\t\t\t\ts.eVar61 \x3d \x27\x27;\n\t\t\t\ts.eVar62 \x3d \x27\x27;\n\t\t\t\tBTanalytics.events \x3d [\x27event88\x27];\n\t\t\t\ts.products \x3d \x27\x27;\n\t\t\t}\n\t\t\tif (\x22'+s.data('collection id')+'\x22 \x3d\x3d \x22\x22) { \n\t\t\t\ts.eVar6 \x3d \x27\x27;\n\t\t\t\ts.eVar28 \x3d \x27\x27;\n\t\t\t\ts.eVar61 \x3d \x27\x27;\n\t\t\t\ts.eVar62 \x3d \x27\x27;\n\t\t\t\tBTanalytics.events \x3d [];\n\t\t\t\ts.products \x3d \x27\x27;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*Checkout*/\n\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x27checkout\x27 || \x22'+s.data('page type')+'\x22 \x3d\x3d \x27shopping cart\x27) {\n\t\ts.products \x3d \x22'+s.data('sitecatalyst products string')+'\x22;\n\t\tif (\x22'+s.data('cart total (usd)')+'\x22 !\x3d \x22\x22) { BTanalytics.cartTotal \x3d \x22'+s.data('cart total (usd)')+'\x22; }\n\t}\n\n\t/*Order Confirmation */\n\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x27order confirmation\x27) {\n\t\ts.products\x3d\x22'+s.data('sitecatalyst products string')+'\x22;\n\t\ts.purchaseID\x3d\x22'+s.data('purchase id')+'\x22;\n\t\ts.state\x3d\x22'+s.data('shipping state')+'\x22;\n\t\ts.zip\x3d\x22'+s.data('shipping zip code')+'\x22;\n\t\ts.eVar26\x3d\x22'+s.data('shipping state')+'\x22;\n\t\ts.eVar27\x3d\x22'+s.data('shipping zip code')+'\x22;\n\t\ts.eVar32\x3d\x22'+s.data('promo code')+'\x22;\n\t\ts.eVar34\x3d\x22'+s.data('shipping country')+'\x22;\n\t\ts.eVar35\x3d\x22'+s.data('billing country')+'\x22;\n\t\ts.eVar38\x3d\x22'+s.data('shipping type')+'\x22;\n\t\ts.eVar47\x3d\x22'+s.data('gift card used')+'\x22;\n\t\ts.eVar48\x3d\x22'+s.data('promo used')+'\x22;\n\t\ts.eVar49\x3d\x22'+s.data('billing state')+'\x22;\n\t\ts.eVar50\x3d\x22'+s.data('billing zip code')+'\x22;\n\t\ts.eVar59\x3d\x22'+s.data('purchase total (local)')+'\x22;\n\t\ts.eVar60\x3d\x22'+s.data('purchase increment')+'\x22; \n\t\ts.list1 \x3d \x22'+s.data('promo codes')+'\x22;\n\t\tvar purchaseFlag \x3d s.getPreviousValue(\x22Y\x22,\x22BuyerInd\x22); \n\n\t\tif (s.eVar32 !\x3d \x27\x27) {\n\t\t\ts.prop20 \x3d \x221\x22;\n\t\t} else {\n\t\t\ts.prop20 \x3d \x270\x27;\n\t\t}\n\t}\n\n\t/* Error Pages */\n\tif (typeof $(\x27body\x27).attr(\x27data-error-code\x27) !\x3d \x22undefined\x22 \x26\x26 typeof $(\x27body\x27).attr(\x27data-error-type\x27) !\x3d \x22undefined\x22) {\n\t\tvar errorCode \x3d  $(\x27body\x27).attr(\x27data-error-code\x27) || \x27unknownCode\x27;\n\t\tvar errorType \x3d $(\x27body\x27).attr(\x27data-error-type\x27) || \x27unknownType\x27;\n\t\tif ( errorCode \x3d\x3d \x27404\x27) { \n\t\t\ts.pageType\x3d\x22errorPage\x22; \n\t\t\ts.pageName \x3d \x22\x22;\n\t\t\ts.eVar46 \x3d s.prop1 \x3d s.prop2 \x3d \x22'+s.data('brand code')+':'+s.data('country code')+':\x22 + errorCode + \x27-\x27 + errorType;\n\t\t\t$(window).trigger(\x27analytics.404Missing\x27);\n\t\t} else {\n\t\t\ts.pageName \x3d s.eVar46 \x3d s.prop1 \x3d s.prop2 \x3d \x22'+s.data('brand code')+':'+s.data('country code')+':\x22 + errorCode + \x27-\x27 + errorType;\n\t\t}\n\n\t\ts.channel \x3d s.prop3 \x3d \x22'+s.data('brand code')+':'+s.data('country code')+':error\x22.toLowerCase();\n\t\tBTanalytics.events \x3d [];\n\t\ts.products \x3d \x22\x22;\n\n\t\ts.eVar1 \x3d \x22'+s.data('store id')+'\x22;\n\t\ts.eVar2 \x3d \x22'+s.data('physical store id')+'\x22;\n\t\ts.eVar11 \x3d s.prop32 \x3d bt_cookie(\x27JSESSIONID\x27).split(\x27:\x27)[0];\n\t\ts.eVar64 \x3d document.referrer.toLowerCase();\n\n\t\ts.prop4 \x3d \x22'+s.data('brand code')+'\x22;\n\t\ts.prop5 \x3d \x22'+s.data('country code')+'\x22;\n\t\ts.prop11 \x3d window.location.toString().toLowerCase();\n\t\ts.prop12 \x3d document.referrer;\n\t\ts.prop23 \x3d \x22'+s.data('brand code')+':\x22 + errorCode + \x27-\x27 + errorType;\n\t\ts.prop30 \x3d window.location.href.split(\x22/\x22).slice(2).join(\x22/\x22).split(\x22?\x22).slice(0,1).toString();\n\t\t/* Trigger any tags that need to run on error pages */\n\t\t$(window).trigger(\x27brightTag.ErrorPage\x27);\n\t}\n\n\t/* Brand Experience (aka landing pages) */\n\tif (window.location.toString().indexOf(\x27BrandExperience\x27) \x3e -1) {\n\t\ts.currencyCode\x3d\x27'+s.data('currency code')+'\x27;\n\t\ts.channel\x3d\x27'+s.data('brand code')+':'+s.data('country code')+':'+s.data('espotkey')+'\x27.toLowerCase();\n\t\ts.pageName\x3ds.eVar46\x3d\x27'+s.data('brand code')+':'+s.data('country code')+':'+s.data('espotkey')+'\x27.toLowerCase();\n\t\ts.prop1\x3d\x27'+s.data('brand code')+':'+s.data('country code')+':'+s.data('espotkey')+'\x27.toLowerCase();\n\t\ts.prop2\x3d\x27'+s.data('brand code')+':'+s.data('country code')+':'+s.data('espotkey')+'\x27.toLowerCase();\n\t\ts.prop3\x3d\x27'+s.data('brand code')+':'+s.data('country code')+':'+s.data('page type')+'\x27.toLowerCase();\n\t\ts.prop4\x3d\x27'+s.data('brand code')+'\x27.toLowerCase();\n\t\ts.prop5\x3d\x27'+s.data('country code')+'\x27.toLowerCase();\n\t\ts.prop6\x3ds.channel;\n\t\ts.prop23 \x3d \x27'+s.data('brand code')+':'+s.data('espotkey')+'\x27.toLowerCase();\n\t\ts.prop32\x3ds.eVar11\x3d$.cookie(\x27JSESSIONID\x27);\n\t\ts.eVar11 \x3d s.prop32 \x3d bt_cookie(\x27JSESSIONID\x27).split(\x27:\x27)[0];\n\t}\n\n\t/* Switch from Collection ID to WebProductID */\n\tif (s.products \x26\x26 \x22'+s.data('page type')+'\x22 !\x3d \x22order confirmation\x22) {\n\t\tvar arrsProducts \x3d s.products.split(\x27,\x27);\n      \n\t\tfor (i\x3d0; i\x3carrsProducts.length; i++) {\n\t\t\tvar arrThisProductsString \x3d arrsProducts[i].split(\x27;\x27);\n\t\t\tvar thisModifiedLongSku \x3d  \x22'+s.data('product long sku')+'\x22 || \x22unknown-value-here\x22;\n\n\t\t\t/*Add To Bag*/\n\t\t\ttry {\n\t\t\t\t/* Fall 2016 ANF Ensemble PDP */\n\t\t\t\tif ($(\x27[data-collection\x3d\x22\x27 + arrThisProductsString[1] + \x27\x22]\x27).length \x3e 0) {\n\t\t\t\t\tthisModifiedLongSku \x3d $(\x27[data-collection\x3d\x22\x27 + arrThisProductsString[1] + \x27\x22]\x27).find(\x22[data-long-sku]\x22).eq(0).attr(\x27data-long-sku\x27);\n\t\t\t\t}\n\t\t\t} catch(e) { }\n\n\t\t\t/*Shopping Cart*/\n\t\t\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22shopping cart\x22) {\n\t\t\ttry {\n\t\t\t\tthisModifiedLongSku \x3d $($(\x27.details\x27)[i]).attr(\x27data-longsku\x27) || \x27unknown-shopping-cart\x27;\n\t\t\t} catch(e) { }\n\t\t}\n\n\t\t/*Checkout Step 1*/\n\t\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22checkout\x22) {\n\t\t\ttry {\n  \t\t\t\tif (typeof bt_eval(\x27ANF.models.cart.items\x27) \x3d\x3d \x22object\x22) {\n  \t\t\t\t\tthisModifiedLongSku\x3d ANF.models.cart.items[i].item.longSku || \x22unknown-ANFModelsCart-item\x22;\n  \t\t\t\t} else if ($(\x27#shopping-bag\x27).length \x3e 0) {\n\t\t\t\t\tthisModifiedLongSku \x3d $($(\x27.product-details\x27)[i]).attr(\x27data-longsku\x27) || \x27unknown-checkout-step1\x27;\n  \t\t\t\t}\n\t\t\t} catch(e) { }\n\t\t}\n\n\t\t/*product id should be ok, but... */\n\t\tif (typeof thisModifiedLongSku \x3d\x3d \x27undefined\x27) { thisModifiedLongSku \x3d \x22'+s.data('product long sku')+'\x22 || \x22unknown-value-here\x22}\n\t\tvar arrThisModifiedLongSku \x3d thisModifiedLongSku.split(\x27-\x27);\n\t\tvar thisWebProductID \x3d arrThisProductsString[1] + \x27-\x27 + arrThisModifiedLongSku[0]  + \x27-\x27 + arrThisModifiedLongSku[1] + \x27-\x27 + arrThisModifiedLongSku[2]; \n\t\t\tif (arrsProducts[i].indexOf(\x27GIFT\x27) \x3d\x3d -1) { arrsProducts[i] \x3d arrsProducts[i].replace(arrThisProductsString[1],thisWebProductID);}\n\t\t}\n\t\tvar newSProducts \x3d arrsProducts.join(\x27,\x27);\n\t\ts.products \x3d newSProducts;\n\t}\n\n\t/* Search Pages */\n\tif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22search\x22) { s.products \x3d \x22;\x22; }\n\n\t/* Optimizely SiteCatalyst Integration */\n\ttry {\n\t\tif (window.optimizely.get(\x22custom/adobeIntegrator\x22)) {\n\t\t\twindow.optimizely.get(\x22custom/adobeIntegrator\x22).assignCampaigns(s);\n\t\t}\n\t} catch(e) {\n\t\twindow.optimizely \x3d window.optimizely || [];\n\t\twindow.optimizely.push(\x22activateSiteCatalyst\x22); \n\t}\n\n\n\t/* Fail safes */\n\tif (typeof s.pageName !\x3d \x27undefined\x27 \x26 s.pageName !\x3d \x22\x22) {\n\t\ts.eVar46 \x3d s.pageName;\n\t\ts.hier1 \x3d s.pageName.split(\x27:\x27).slice(0,-1).join(\x27:\x27);\n\t\ts.hier2 \x3d s.pageName.split(\x27:\x27)[0] + (function(){ var categories \x3d s.pageName.split(\x27:\x27).slice(2,-1).join(\x27:\x27); if (categories !\x3d \x22\x22) { return \x22:\x22 + categories; } else { return \x22\x22; }})();\n\t\tBTanalytics.prevPage \x3d s.pageName;\n\t\tBTanalytics.prevPageType \x3d s.prop3;\n\t}\n\n\tif (parseInt(\x22'+s.data('purchase subtotal (usd)')+'\x22) \x3e 5000) {\n\t\ts.account\x3d\x22afinternal\x22;\n\t}\n\n\n\t/*Let\x27s record this page (or not) */\n\ttry {\n\t\t//bt_log(\x27creating s.events from \x27 + BTanalytics.events);\n\t\ts.events \x3d dedupeArray(BTanalytics.events).join(\x27,\x27);\n\t\t//bt_log(\x27s.events\x3d\x27 + s.events);\n\t} catch(e) {\n\t\t//bt_log(\x27error creating s.events from \x27 + BTanalytics.events);\n\t\ts.events \x3d \x22\x22;\n\t}\n\ttry {\n\t\tif (\x22'+s.data('campaign code')+'\x22.indexOf(\x27SOC\x27) \x3d\x3d 0 \x26\x26 (\x22'+s.data('campaign code')+'\x22.indexOf(\x27SNP\x27) \x3e 0 || \x22'+s.data('campaign code')+'\x22.indexOf(\x27SnapAuction\x27) \x3e 0)) {\n\t\t\tvar interval \x3d setInterval(function() {\n\t\t\t\tif (!isPageHidden()) {\n\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\ts.t();\n\t\t\t\t}\n\t\t\t}, 50);\n\t\t} else if (s.events.indexOf(\x27event5\x27) \x3e -1 || s.events.indexOf(\x27event17\x27) \x3e -1) {\n\t\t\ts.t();\n\t\t} else if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22category\x22 \x26\x26 (\x22'+s.data('category id')+'\x22 \x3d\x3d \x226911984\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226912000\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226914860\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226914874\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226917117\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226917125\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226729779\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226730749\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226875694\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226875650\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226898222\x22 || \x22'+s.data('category id')+'\x22 \x3d\x3d \x226898233\x22)) {\n\t\t\ts.t();\n\t\t} else if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22category\x22 \x26\x26 (s.pageName.indexOf(\x27clearance\x27) \x3e 0)) {\n\t\t\ttry {\n\t\t\t\tif (sessionStorage.getItem(\x27clearance\x27) !\x3d \x22viewed\x22 || bt_parameter(\x27cmp\x27) !\x3d \x22\x22 || bt_parameter(\x27icmp\x27) !\x3d \x22\x22) {\n\t\t\t\t\twindow.sessionStorage.setItem(\x27clearance\x27,\x27viewed\x27);\n\t\t\t\t\ts.t();\n\t\t\t\t} else {\n\t\t\t\t\t//do nothing\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\ts.t();\n\t\t\t}\n\t\t} else if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22category\x22 || \x22'+s.data('page type')+'\x22 \x3d\x3d \x22division\x22) {\n\t\t\ttry {\n\t\t\t\tif (sessionStorage.getItem(\x27'+s.data('category id')+'\x27) !\x3d \x22viewed\x22 || bt_parameter(\x27cmp\x27) !\x3d \x22\x22 || bt_parameter(\x27icmp\x27) !\x3d \x22\x22) {\n\t\t\t\t\twindow.sessionStorage.setItem(\x27'+s.data('category id')+'\x27,\x27viewed\x27);\n\t\t\t\t\ts.t();\n\t\t\t\t} else {\n\t\t\t\t\t//do nothing\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\ts.t();\n\t\t\t}\n\t\t} else {\n\t\t\ts.t();\n\t\t}\n\t} catch(e) {\n\t\tbt_log(\x27s.t() error\x3d\x27 + e);\n\t}\n\n} catch(e) {\n\tbt_log(\x27sc error:\x27 + e);\n\tif (typeof bt_eval(\x27BrightTag.HTTP.URL(document.location.href)\x27) \x3d\x3d \x22undefined\x22) {\n\t\ts.pageName \x3d s.eVar46 \x3d \x22'+s.data('brand code')+':'+s.data('country code')+':URL error\x22;\n\t\ts.prop46 \x3d (window.location.toString().split(\x27?\x27)[1] || \x22\x22).split(\x27\x26krypto\x27)[0];\n\t\ts.t();\n\t} else {\n\t\ts.t();\n\t}\n}\n\x3c/script\x3e\n\x3cscript\x3e\nfunction waitForSC(selector, experiment, timeout, keepAlive) {\n\tvar intervalTime \x3d 25;\n\tvar timeout \x3d timeout || 3000;\n\tvar keepAlive \x3d keepAlive || false;\n\tvar maxAttempts \x3d timeout / intervalTime;\n\tvar attempts \x3d 0;\n\tvar interval \x3d setInterval(function() {\n\t\tvar selectorVal \x3d (function(){\n\t\t\ttry {\n\t\t\t\treturn eval(selector);\n\t\t\t} catch(e) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t})();\n\t\tif (typeof selectorVal !\x3d\x3d \x27undefined\x27) {\n\t\t\tif (!keepAlive) { clearInterval(interval); }\n\t\t\t\texperiment();\n\t\t\t} else if (attempts \x3e maxAttempts) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tpostSCProcessing();\n\t\t\t}\n\t\t\tattempts ++;\n\t}, intervalTime);\n}\n\nfunction postSCProcessing() {\n\t/* empty values used above that ought not persist*/\n\tdelete BTanalytics.add;\n\tdelete BTanalytics.ATB;\n\tdelete BTanalytics.AVSResult;\n\tdelete BTanalytics.bloomreach;\n\tdelete BTanalytics.browse;\n\tdelete BTanalytics.bvinteraction;\n\tdelete BTanalytics.cap;\n\tdelete BTanalytics.cartNotificationEligible;\n\tdelete BTanalytics.certona;\n\tdelete BTanalytics.GCqty;\n\tdelete BTanalytics.GCvalue;\n\tdelete BTanalytics.gender;\n\tdelete BTanalytics.gridClickLoc;\n\tdelete BTanalytics.pageFindingMethod;\n\tdelete BTanalytics.prev_page_loadTime;\n\tdelete BTanalytics.QV;\n\tdelete BTanalytics.searchEvent;\n\tdelete BTanalytics.sessionsync;\n\tdelete BTanalytics.SSO;\n\tdelete BTanalytics.swatch;\n\tdelete BTanalytics.swatchClick;\n\tdelete BTanalytics.WCSAcctCreate;\n\tdelete BTanalytics.WCSAuth;\n\tdelete BTanalytics.v18;\n\tBTanalytics.prevEvents \x3d BTanalytics.events;\n\tdelete BTanalytics.events;\n  \n\tif (\x22'+s.data('html body id')+'\x22 \x3d\x3d \x27checkout-summary\x27 || \x22'+s.data('html body class')+'\x22.indexOf(\x27order-review-page\x27) \x3e -1 || bt_parameter(\x27PayPalToken\x27) !\x3d \x22\x22) {\n\t\t// Order Summary page - leave paypal express indicators alone\n\t} else {\n\t\ttry {\n\t\t\tdelete BTanalytics.paypal_express;\n\t\t\tdelete window.sessionStorage[\x27paypal_express\x27];\n\t\t} catch(e) {}\n\t}\n\n\t/*Store anything in BTanalytics that we need to keep track of */\n\t(function(){ var nothing\x3d\x22'+s.data('cj event id')+'\x22; })();\n\tBTanalytics.prevCurrency \x3d BTanalytics.currency;\n\tBTanalytics.prevLang \x3d BTanalytics.curLang;\n  \n\tif (bt_parameter(\x27et_rid\x27) !\x3d \x27\x27) {\n\t\t//Set values for Order Confirmation Tag\n\t\tBTanalytics.ET \x3d {};\n\t\tBTanalytics.ET.et_cid \x3d bt_parameter(\x27et_cid\x27);\n\t\tBTanalytics.ET.et_rid \x3d bt_parameter(\x27et_rid\x27);\n\t\tBTanalytics.ET.l \x3d bt_parameter(\x27l\x27);\n\t\tBTanalytics.ET.jb \x3d bt_parameter(\x27jb\x27);\n\t\tBTanalytics.ET.etype \x3d bt_parameter(\x27etype\x27);\n\t\tBTanalytics.ET.u \x3d bt_parameter(\x27u\x27);\n\t}\n\tif (bt_parameter(\x27aid\x27) !\x3d \x27\x27) {\n\t\tBTanalytics.pand \x3d {};\n\t\tBTanalytics.pand.aid \x3d bt_parameter(\x27aid\x27);\n\t}\n\n\t/* For persisting AB exeriments for later use */\n\tif (typeof BTanalytics.sc \x3d\x3d \x27undefined\x27) BTanalytics.sc \x3d {};\n\tif (s.eVar7 !\x3d \x22\x22 \x26\x26 typeof s.eVar7 !\x3d \x27undefined\x27) BTanalytics.sc.v7 \x3d s.eVar7.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.eVar8 !\x3d \x22\x22 \x26\x26 typeof s.eVar8 !\x3d \x27undefined\x27) BTanalytics.sc.v8 \x3d s.eVar8.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.eVar9 !\x3d \x22\x22 \x26\x26 typeof s.eVar9 !\x3d \x27undefined\x27) BTanalytics.sc.v9 \x3d s.eVar9.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.eVar12 !\x3d \x22\x22 \x26\x26 typeof s.eVar12 !\x3d \x27undefined\x27) BTanalytics.sc.v12 \x3d s.eVar12;\n\tif (s.eVar17 !\x3d \x22\x22 \x26\x26 typeof s.eVar17 !\x3d \x27undefined\x27) BTanalytics.sc.v17 \x3d s.eVar17.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.prop8 !\x3d \x22\x22 \x26\x26 typeof s.prop8 !\x3d \x27undefined\x27) BTanalytics.sc.c8 \x3d s.prop8.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.prop37 !\x3d \x22\x22 \x26\x26 typeof s.prop37 !\x3d \x27undefined\x27) BTanalytics.sc.c37 \x3d s.prop37.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.prop38 !\x3d \x22\x22 \x26\x26 typeof s.prop38 !\x3d \x27undefined\x27) BTanalytics.sc.c38 \x3d s.prop38.replace(\x27Optimizely_\x27,\x27\x27);\n\tif (s.prop65 !\x3d \x22\x22 \x26\x26 typeof s.prop65 !\x3d \x27undefined\x27) BTanalytics.sc.c65 \x3d s.prop65;\n\tif (s.eVar30 !\x3d \x22\x22 \x26\x26 typeof s.eVar30 !\x3d \x27undefined\x27) BTanalytics.sc.oid \x3d s.eVar30;\n\tif (\x22'+s.data('purchase total (local)')+'\x22 !\x3d \x22\x22) BTanalytics.sc.ototal \x3d \x22'+s.data('purchase total (local)')+'\x22;\n  \n\t/* Save any object updates back into the cookie */\n\tsaveBTanalytics();\n\n\t/* Trigger any tags that were waiting for SiteCatalyst to finish */\n\ttry {\n\t\t$(window).trigger(\x27brightTag.VendorTags\x27);\n\t    if (\x22'+s.data('qs params')+'\x22.toLowerCase().indexOf(\x27email\x27) \x3d\x3d -1) {\n    \t\t$(window).trigger(\x27brightTag.SiteCatalystDone\x27);\n\t    }\n\t\twindow.optimizely.push({type: \x22sendEvents\x22});\n\t\tif (\x22'+s.data('html body id')+'\x22 \x3d\x3d \x22checkout-cart\x22) {\n\t\t\t$(window).trigger(\x27brightTag.portableBag\x27);\n\t\t}\n\t} catch(e) {\n\t\tthrow(\x27error running SiteCatalyst: \x27+e);\n\t}\n}\n\nwaitForSC(\x22SCPluginsComplete\x22, function(){\n\tpostSCProcessing();\n});\n\x3c/script\x3e',{tagId:14404});
s.tag('\x3cscript type\x3d\x22text/javascript\x22\x3e\n(function() {\n    var s \x3d document.createElement(\x27script\x27);\n    s.type \x3d \x22text/javascript\x22;\n    s.async \x3d true;\n    s.id \x3d \x22_cls_detector\x22;\n    s.setAttribute(\x22data-clsconfig\x22, \x22reportURI\x3dhttps://report-anf.glassboxcloud.com/hollister/glassbox/reporting/cls_report;recordMouseMoves\x3dtrue;recordScrolls\x3dtrue;maskingMode\x3dblacklist;maskList\x3dcardNumber,cvv,CID,cardExpiryFmt,cardExpiryMonth,cardExpiryYear,logonId,logonPassword,cardNumberFormatted,expYear,logonId,logonPassword;domMaskContentById\x3daccount-info__category-birthMonth,account-info__category-birthDate,account-info__category-birthYear;\x22);\n    s.src \x3d \x27https://cdnil.clarisite.com/abercrombie/hollister/detector-dom.min.js\x27;\n    var d \x3d document.getElementsByTagName(\x27head\x27)[0];\n    d.appendChild(s);\n})();\n\x3c/script\x3e',{tagId:6054225});
s.tag('\x3cscript\x3ebt_log(\x27Certona 6230932\x27);\x3c/script\x3e\n\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22//s.btstatic.com/lib/e746946c841cbdf13dc835bcaa3e80f39b620afd.js?v\x3d2\x22\x3e\x3c/script\x3e\n\x3cscript type\x3d\x22text/javascript\x22\x3e\ntry {\n    rrelemBase \x3d \x22\x22;\n    var resx \x3d new Object();\n    resx.appid      \x3d   \x22'+s.data('certona app id')+'\x22;\n    resx.customerid \x3d   \x22'+s.data('email recipient id')+'\x22;\n    resx.event      \x3d   \x22'+s.data('certona event id')+'\x22;\n    resx.itemid     \x3d   \x22\x22;\n    resx.links      \x3d   \x22'+s.data('key item code - delimited (;)')+'\x22;\n    resx.cv1        \x3d   \x22'+s.data('email recipient id')+'\x22;\n    resx.cv2        \x3d   \x22'+s.data('exacttarget id')+'\x22;\n    resx.rrqs       \x3d   \x22'+s.data('category hierarchy ids for certona')+'\x22;\n    //if ( \x22'+s.data('staging or production')+'\x22 \x3d\x3d \x27Staging\x27) { resx.host \x3d \x22qa.res-x.com\x22; }      \n    certonaResx.run();\n} catch(e) { }\n\x3c/script\x3e',{tagId:6353281});
});
});
